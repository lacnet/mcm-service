// Copyright (c) Microsoft Corporation. All rights reserved.
Type.createNamespace('MC');MC.IAbortable=function(){};MC.IAbortable.createInterface('MC.IAbortable');MC.AddressBookResultCode=function(){};MC.AddressBookResultCode.prototype={success:0,failure:1,notFound:2}
MC.AddressBookResultCode.createEnum('MC.AddressBookResultCode',false);MC.IAddressBook=function(){};MC.IAddressBook.createInterface('MC.IAddressBook');MC.IAuthenticatedCommand=function(){};MC.IAuthenticatedCommand.createInterface('MC.IAuthenticatedCommand');MC.IConfigurationService=function(){};MC.IConfigurationService.createInterface('MC.IConfigurationService');MC.ConnectionServiceResultCode=function(){};MC.ConnectionServiceResultCode.prototype={success:0,failure:1,signedOutRoaming:2,signedOutExceededMaxEndpointCount:3}
MC.ConnectionServiceResultCode.createEnum('MC.ConnectionServiceResultCode',false);MC.IConnectionService=function(){};MC.IConnectionService.createInterface('MC.IConnectionService');MC.IConnectionServiceEvents=function(){};MC.IConnectionServiceEvents.createInterface('MC.IConnectionServiceEvents');MC.ConversationResultCode=function(){};MC.ConversationResultCode.prototype={success:0,failure:1}
MC.ConversationResultCode.createEnum('MC.ConversationResultCode',false);MC.IConversationEvents=function(){};MC.IConversationEvents.createInterface('MC.IConversationEvents');MC.IConversationService=function(){};MC.IConversationService.createInterface('MC.IConversationService');MC.ExpressionProfileResultCode=function(){};MC.ExpressionProfileResultCode.prototype={success:0,failure:1}
MC.ExpressionProfileResultCode.createEnum('MC.ExpressionProfileResultCode',false);MC.IExpressionProfile=function(){};MC.IExpressionProfile.createInterface('MC.IExpressionProfile');MC.IdentityServiceResultCode=function(){};MC.IdentityServiceResultCode.prototype={success:0,failure:1}
MC.IdentityServiceResultCode.createEnum('MC.IdentityServiceResultCode',false);MC.IIdentityService=function(){};MC.IIdentityService.createInterface('MC.IIdentityService');MC.ILogger=function(){};MC.ILogger.createInterface('MC.ILogger');MC.IMessengerService=function(){};MC.IMessengerService.createInterface('MC.IMessengerService');MC.MessengerServiceResultCode=function(){};MC.MessengerServiceResultCode.prototype={success:0,failure:1,notFound:2}
MC.MessengerServiceResultCode.createEnum('MC.MessengerServiceResultCode',false);MC.IMessengerServiceEvents=function(){};MC.IMessengerServiceEvents.createInterface('MC.IMessengerServiceEvents');MC.IServiceFactory=function(){};MC.IServiceFactory.createInterface('MC.IServiceFactory');MC.ServiceType=function(){};MC.ServiceType.prototype={core:0,addressBook:1,expressionProfile:2,identity:3,chat:4,presence:5,configuration:6,count:7}
MC.ServiceType.createEnum('MC.ServiceType',false);MC.$create_ApplicationMessageInfo=function(id,content){var $o={};$o.id=id;$o.content=content||String.Empty;return $o;}
MC.$create_AuthenticationInfo=function(authType,ticket){var $o={};switch(authType){case 2:if(String.isNullOrEmpty(ticket)){}break;case 1:break;default:break;}$o.authType=authType;$o.ticket=ticket;return $o;}
MC.AuthenticationType=function(){};MC.AuthenticationType.prototype={none:0,rpsAuth:1,delAuth:2}
MC.AuthenticationType.createEnum('MC.AuthenticationType',false);MC.CapabilitiesFlags=function(){};MC.CapabilitiesFlags.prototype={none:0,onlineViaMobile:1,onlineViaTexas:2,supportsGifInk:4,supportsIsfInk:8,webCamDetected:16,supportsChunking:32,mobileEnabled:64,webWatchEnabled:128,mobileMessagingDisabled:256,onlineViaWebIM:512,mobileDevice:1024,onlineViaFederatedInterface:2048,hasSpace:4096,isMceUser:8192,supportsDirectIM:16384,supportsWinks:32768,supportsSharedSearch:65536,isBot:131072,supportsVoiceIM:262144,supportsSChannel:524288,supportsSipInvite:1048576,supportsMultipartyMedia:2097152,supportsSDrive:4194304,supportsPageModeMessaging:8388608,hasOneCare:16777216,supportsTurn:33554432,supportsDirectBootstrapping:67108864,usingAlias:134217728,appVersion60:268435456,appVersion61:536870912,appVersion62:805306368,appVersion70:1073741824,appVersion75:1342177280,appVersion80:1610612736,appVersion81:1879048192,appVersion85:2147483648,isSmsOnly:1,supportsVoiceOverMsnp:2,supportsUucpSipStack:4,supportsApplicationMessages:8,appVersionMask:4026531840}
MC.CapabilitiesFlags.createEnum('MC.CapabilitiesFlags',true);MC.$create_ContactInfo=function(id,nickname,addresses){var $o={};$o.id=id;$o.nickname=nickname;$o.addresses=addresses;return $o;}
MC.$create_EndpointPresenceInfo=function(id,domain,name,capabilities,properties,messageIds,customProperties){var $o={};$o.id=id;$o.domain=domain;$o.endpointName=name;$o.capabilities=((!capabilities)?[]:capabilities);$o.properties=properties;$o.applicationMessageIds=messageIds;$o.webProperties=customProperties;return $o;}
MC.FontStyleFlags=function(){};MC.FontStyleFlags.prototype={regular:0,bold:1,italic:2,strikeout:4,underline:8}
MC.FontStyleFlags.createEnum('MC.FontStyleFlags',true);MC.$create_GroupInfo=function(id,name,contacts){var $o={};$o.id=id;$o.name=name;$o.contacts=contacts;return $o;}
MC.$create_IdentityInfo=function(liveId,endpointId){var $o={};$o.liveId=liveId;$o.endpointId=endpointId;return $o;}
MC.$create_IMAddressInfo=function(address,type,roleLists){var $o={};$o.address=address.toLowerCase();$o.type=type;$o.roleLists=roleLists;$o.cid=String.Empty;$o.id=$o.address;return $o;}
MC.IMAddressInfoType=function(){};MC.IMAddressInfoType.prototype={none:0,windowsLive:1,officeCommunicator:2,yahoo:32,telephone:4,smtp:16,mobileNetwork:8}
MC.IMAddressInfoType.createEnum('MC.IMAddressInfoType',false);MC.$create_KeyValuePair=function(key,value){var $o={};$o.key=key;$o.value=value;return $o;}
MC.$create_MessageInfo=function(type,info){var $o={};$o.type=type;$o.sender=null;$o.timestamp=Date.get_now();$o.info=info;return $o;}
MC.MessageInfoType=function(){};MC.MessageInfoType.prototype={textMessage:1,nudgeMessage:2,applicationMessage:3,typingUserMessage:255}
MC.MessageInfoType.createEnum('MC.MessageInfoType',false);MC.$create_NotificationInfo=function(){return{};}
MC.$create_PremiumFeatureInfo=function(isProvisioned,isEnabled,isSuspended){var $o={};$o.isProvisioned=isProvisioned;$o.isEnabled=isEnabled;$o.isSuspended=isSuspended;return $o;}
MC.$create_PresenceInfo=function(status,displayName,personalMessage,networkIconUrl,capabilities,properties){var $o={};$o.status=status;$o.displayName=displayName;$o.displayPictureUrl=null;$o.personalMessage=personalMessage;$o.networkIconUrl=networkIconUrl;$o.capabilities=(capabilities)?capabilities:[];$o.displayPictureKey=null;$o.properties=properties;$o.isIdentityUnverified=false;$o.isIdentityUnverifiedChanged=false;return $o;}
MC.PresenceInfoStatus=function(){};MC.PresenceInfoStatus.prototype={none:0,offline:1,online:2,appearOffline:3,busy:4,idle:5,beRightBack:6,away:7,inACall:8,outToLunch:9}
MC.PresenceInfoStatus.createEnum('MC.PresenceInfoStatus',false);MC.PrivacyOptions=function(){};MC.PrivacyOptions.prototype={none:0,blockByDefault:1,allowByDefault:2}
MC.PrivacyOptions.createEnum('MC.PrivacyOptions',false);MC.RoleLists=function(){};MC.RoleLists.prototype={none:0,forward:1,allow:2,block:4,reverse:8,pending:16}
MC.RoleLists.createEnum('MC.RoleLists',true);MC.$create_SettingsInfo=function(){var $o={};$o.hasInbox=false;$o.hasInboxChanged=false;$o.lcid=0;$o.lcidChanged=false;$o.isIdentityUnverified=false;$o.isIdentityUnverifiedChanged=false;$o.isMpopDisabled=false;$o.isMpopDisabledChanged=false;$o.privacyOptions=0;$o.prepaidMobileMessaging=null;$o.partnerMobileMessaging=null;return $o;}
MC.$create_SignInRequest=function(version,endpointId,status,domain,cid,authInfo,clientVersion){var $o={};$o.version=version;$o.endpointId=endpointId;$o.status=status;$o.domain=domain;$o.cid=cid;$o.authInfo=authInfo;$o.clientVersion=clientVersion;return $o;}
MC.$create_SignInResponse=function(clientLibConfig,messengerSession,groups,settings){var $o={};$o.clientConfiguration=clientLibConfig;$o.messengerSession=messengerSession;$o.settings=settings;$o.groups=groups;return $o;}
MC.$create_SignInStatus=function(isAutoSignIn,isManualSignIn,isTrustedSignIn,isBlockedDomain,isUnsupportedBrowser,isUserSignedInViaSpopClient,isUserSignedInViaMpopEndpoints,isMpopSettingEnabled,isUserFamilySafetyRestricted){var $o={};$o.isAutoSignIn=isAutoSignIn;$o.isManualSignIn=isManualSignIn;$o.isTrustedSignIn=isTrustedSignIn;$o.isBlockedDomain=isBlockedDomain;$o.isUnsupportedBrowser=isUnsupportedBrowser;$o.isUserSignedInViaSpopClient=isUserSignedInViaSpopClient;$o.isUserSignedInViaMpopEndpoints=isUserSignedInViaMpopEndpoints;$o.isMpopSettingEnabled=isMpopSettingEnabled;$o.isUserFamilySafetyRestricted=isUserFamilySafetyRestricted;return $o;}
MC.$create_SignInStatusRequest=function(version,cid,authInfo,domain,clientVersion){var $o={};$o.version=version;$o.cid=cid;$o.authInfo=authInfo;$o.domain=domain;$o.clientVersion=clientVersion;return $o;}
MC.$create_SignInStatusResponse=function(identity,signInStatus){var $o={};$o.identity=identity;$o.signInStatus=signInStatus;$o.identity.puid=String.Empty;if($o.identity.authenticationInfo.authType===1){$o.identity.authenticationInfo.ticket=String.Empty;}return $o;}
MC.SignOutLocationFlags=function(){};MC.SignOutLocationFlags.prototype={none:0,localEndpoint:1,remoteEndpoints:2,allEndpoints:3,specificEndpoints:8}
MC.SignOutLocationFlags.createEnum('MC.SignOutLocationFlags',true);MC.$create_TextMessageFormatInfo=function(fontColor,fontFamily,fontStyle,rightToLeft){var $o={};$o.fontColor=fontColor;$o.fontFamily=fontFamily||String.Empty;$o.fontStyle=fontStyle;$o.rightToLeft=rightToLeft;return $o;}
MC.$create_TextMessageInfo=function(text,format){var $o={};$o.text=text;$o.format=format;return $o;}
MC.$create_AddressBookConfigurationInfo=function(){var $o={};$o.maximumContactCount=0;$o.maximumAllowedCount=0;$o.maximumBlockedCount=0;$o.maximumGroupCount=0;$o.partnerId=String.Empty;$o.hostName=String.Empty;return $o;}
MC.$create_ExpressionProfileConfigurationInfo=function(){var $o={};$o.hostName=String.Empty;$o.partnerId=String.Empty;return $o;}
MC.$create_IdentityConfigurationInfo=function(){var $o={};$o.silentReauthDetectionUrl=String.Empty;$o.silentReauthUrl=String.Empty;$o.silentReauthUrlFormat=String.Empty;$o.storageAuthUrl=String.Empty;return $o;}
MC.$create_PresenceConfigurationInfo=function(){var $o={};$o.hostName=String.Empty;$o.networkIconUrl=String.Empty;return $o;}
MC.$create_ConfigurationInfo=function(){var $o={};$o.addressBook=MC.$create_AddressBookConfigurationInfo();$o.expressionProfile=MC.$create_ExpressionProfileConfigurationInfo();$o.presence=MC.$create_PresenceConfigurationInfo();$o.emoticonUrl=String.Empty;$o.displayPictureUrl=String.Empty;$o.messageUrl=String.Empty;return $o;}
MC.$create_MessengerSessionInfo=function(server,sessionToken,transactionID,pendingEvents){var $o={};$o.server=server;$o.sessionToken=sessionToken;$o.transactionID=transactionID;$o.pendingEvents=pendingEvents;return $o;}
MC.$create_SignInCtlConfigurationInfo=function(){var $o={};$o.signUpUrl=String.Empty;$o.changeAccountUrl=String.Empty;$o.settingsUrl=String.Empty;$o.privacyUrl=String.Empty;$o.termsOfUseUrl=String.Empty;$o.reportAbuseUrl=String.Empty;$o.aboutMessengerUrl=String.Empty;return $o;}
MC.$create_MailNotificationIncomingInfo=function(from,fromAddress,messageUrl,subject,folder,id){var $o={};$o.from=from;$o.fromAddress=fromAddress;$o.messageUrl=messageUrl;$o.subject=subject;$o.folder=folder;$o.id=id;return $o;}
MC.MailNotificationFolderType=function(){};MC.MailNotificationFolderType.prototype={inbox:0,trash:1,junkMail:2,sent:3,drafts:4,other:5,permanentDelete:6}
MC.MailNotificationFolderType.createEnum('MC.MailNotificationFolderType',false);MC.MailNotificationInfoType=function(){};MC.MailNotificationInfoType.prototype={initial:0,incoming:1,activity:2}
MC.MailNotificationInfoType.createEnum('MC.MailNotificationInfoType',false);MC.$create_MailNotificationInfo=function(notification,type){var $o={};$o.notification=notification;$o.type=type;return $o;}
MC.$create_MailNotificationInitialInfo=function(inboxUnread,inboxTotal,foldersUnread,foldersTotal){var $o={};$o.inboxUnread=inboxUnread;$o.inboxTotal=inboxTotal;$o.foldersUnread=foldersUnread;$o.foldersTotal=foldersTotal;return $o;}
MC.$create_SignInControlStyleInfo=function(foreColor,backColor,borderColor,linkColor,buttonForeColor,buttonBackColor,buttonBorderColor){var $o={};$o.foreColor=foreColor;$o.backColor=backColor;$o.borderColor=borderColor;$o.linkColor=linkColor;$o.buttonForeColor=buttonForeColor;$o.buttonBackColor=buttonBackColor;$o.buttonBorderColor=buttonBorderColor;return $o;}
MC.AuthenticationFailedEventArgs=function(command){MC.AuthenticationFailedEventArgs.constructBase(this);this.$1_0=command;}
MC.AuthenticationFailedEventArgs.prototype={$1_0:null,get_authenticatedCommand:function(){return this.$1_0;}}
MC.MailNotificationActivityInfo=function(source,destination,delta){this.source=source;this.destination=destination;this.delta=delta;}
MC.MailNotificationActivityInfo.prototype={source:0,destination:0,delta:0}
MC.HtmlElementStyle=function(display){this.$0=display;}
MC.HtmlElementStyle.prototype={$0:null,get_display:function(){return this.$0;}}
MC.AuthenticationStatusFlags=function(){};MC.AuthenticationStatusFlags.prototype={none:0,alreadySignedIn:1,unsupportedBrowser:2}
MC.AuthenticationStatusFlags.createEnum('MC.AuthenticationStatusFlags',true);MC.$create_ChannelSignInInfo=function(authStatus,cid,signInCtlInfo){var $o={};$o.authStatus=authStatus;$o.cid=cid;$o.signInCtlInfo=signInCtlInfo;return $o;}
MC.JSON=function(){}
MC.JSON.deserialize=function(s){if(String.isNullOrEmpty(s)){return null;}try{if(!new RegExp('^(\"(\\\\.|[^\"\\\\\\n\\r])*?\"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$').test(s)){return null;}}catch($0){return null;}return MC.JSON.deserializeTrusted(s);}
MC.JSON.deserializeTrusted=function(s){if(String.isNullOrEmpty(s)){return null;}if(!MC.JSON.$0){MC.JSON.$0=new RegExp('(\'|\")\\\\@(-?[0-9]+)@(\'|\")','gm');}s=s.replace(MC.JSON.$0,'new Date($2)');return eval('('+s+')');}
MC.JSON.serialize=function(o){if(isNullOrUndefined(o)){return String.Empty;}var $0=new StringBuilder();MC.JSON.$1($0,o);return $0.toString();}
MC.JSON.$1=function($p0,$p1){if(isNullOrUndefined($p1)){$p0.append('null');return;}var $0=typeof($p1);switch($0){case'boolean':$p0.append($p1.toString());return;case'number':$p0.append((isFinite($p1))?$p1.toString():'null');return;case'string':$p0.append(($p1).quote());return;case'object':if(Array.isInstance($p1)){$p0.append('[');var $1=$p1;var $2=$1.length;var $3=true;for(var $4=0;$4<$2;$4++){if($3){$3=false;}else{$p0.append(',');}MC.JSON.$1($p0,$1[$4]);}$p0.append(']');}else if(Date.isInstance($p1)){var $5=$p1;var $6=Date.UTC($5.getUTCFullYear(),$5.getUTCMonth(),$5.getUTCDate(),$5.getUTCHours(),$5.getUTCMinutes(),$5.getUTCSeconds(),$5.getUTCMilliseconds());$p0.append('\"\\@');$p0.append($6.toString());$p0.append('@\"');}else if(RegExp.isInstance($p1)){$p0.append($p1.toString());}else{$p0.append('{');var $7=true;var $dict1=$p1;for(var $key2 in $dict1){var $8={key:$key2,value:$dict1[$key2]};if(($8.key).startsWith('$')){continue;}if($7){$7=false;}else{$p0.append(',');}$p0.append($8.key.quote());$p0.append(':');MC.JSON.$1($p0,$8.value);}$p0.append('}');}return;default:$p0.append('null');return;}}
MC.AuthenticationFailedEventArgs.createClass('MC.AuthenticationFailedEventArgs',EventArgs);MC.MailNotificationActivityInfo.createClass('MC.MailNotificationActivityInfo');MC.HtmlElementStyle.createClass('MC.HtmlElementStyle');MC.JSON.createClass('MC.JSON');MC.JSON.$0=null;Type.createNamespace('Microsoft.Live.Messenger');Microsoft.Live.Messenger._M$2=function(){};Microsoft.Live.Messenger._M$2.createInterface('Microsoft.Live.Messenger._M$2');Microsoft.Live.Messenger._M$1=function(){};Microsoft.Live.Messenger._M$1.prototype={$0:0,$1:1,$2:2,$3:3}
Microsoft.Live.Messenger._M$1.createEnum('Microsoft.Live.Messenger._M$1',false);Microsoft.Live.Messenger._M$4=function(){};Microsoft.Live.Messenger._M$4.createInterface('Microsoft.Live.Messenger._M$4');Microsoft.Live.Messenger.IMAddressType=function(){};Microsoft.Live.Messenger.IMAddressType.prototype={none:0,windowsLive:1,officeCommunicator:2,yahoo:32,telephone:4,smtp:16,mobileNetwork:8}
Microsoft.Live.Messenger.IMAddressType.createEnum('Microsoft.Live.Messenger.IMAddressType',false);Microsoft.Live.Messenger.PresenceStatus=function(){};Microsoft.Live.Messenger.PresenceStatus.prototype={offline:0,online:1,appearOffline:2,busy:3,idle:4,beRightBack:5,away:6,inACall:7,outToLunch:8}
Microsoft.Live.Messenger.PresenceStatus.createEnum('Microsoft.Live.Messenger.PresenceStatus',false);Microsoft.Live.Messenger.PrivacyMode=function(){};Microsoft.Live.Messenger.PrivacyMode.prototype={allowByDefault:0,blockByDefault:1}
Microsoft.Live.Messenger.PrivacyMode.createEnum('Microsoft.Live.Messenger.PrivacyMode',false);Microsoft.Live.Messenger.SignOutLocations=function(){};Microsoft.Live.Messenger.SignOutLocations.prototype={local:1,remote:2,all:3}
Microsoft.Live.Messenger.SignOutLocations.createEnum('Microsoft.Live.Messenger.SignOutLocations',true);Microsoft.Live.Messenger.$create__M$14=function(signoutEndpoint,locations,userState){var $o={};$o.$0=signoutEndpoint;$o.$1=locations;$o.$2=userState;return $o;}
Microsoft.Live.Messenger._M$3=function(){};Microsoft.Live.Messenger._M$3.prototype={$0:0,$1:1,$2:2,$3:3,$4:4,$5:5}
Microsoft.Live.Messenger._M$3.createEnum('Microsoft.Live.Messenger._M$3',false);Microsoft.Live.Messenger.UserStatus=function(){};Microsoft.Live.Messenger.UserStatus.prototype={signedOut:0,signingIn:1,signedIn:2,signingOut:3}
Microsoft.Live.Messenger.UserStatus.createEnum('Microsoft.Live.Messenger.UserStatus',false);Microsoft.Live.Messenger.MailFolder=function(){};Microsoft.Live.Messenger.MailFolder.prototype={inbox:0,deleted:1,junk:2,sent:3,drafts:4,other:5}
Microsoft.Live.Messenger.MailFolder.createEnum('Microsoft.Live.Messenger.MailFolder',false);Microsoft.Live.Messenger.MessageType=function(){};Microsoft.Live.Messenger.MessageType.prototype={textMessage:1,nudgeMessage:2,applicationMessage:3}
Microsoft.Live.Messenger.MessageType.createEnum('Microsoft.Live.Messenger.MessageType',false);Microsoft.Live.Messenger.TextMessageDirection=function(){};Microsoft.Live.Messenger.TextMessageDirection.prototype={leftToRight:0,rightToLeft:1}
Microsoft.Live.Messenger.TextMessageDirection.createEnum('Microsoft.Live.Messenger.TextMessageDirection',false);Microsoft.Live.Messenger.TextMessageStyle=function(){};Microsoft.Live.Messenger.TextMessageStyle.prototype={regular:0,bold:1,italic:2,strikeout:4,underline:8}
Microsoft.Live.Messenger.TextMessageStyle.createEnum('Microsoft.Live.Messenger.TextMessageStyle',true);Microsoft.Live.Messenger.AddContactResultCode=function(){};Microsoft.Live.Messenger.AddContactResultCode.prototype={success:0,failure:1,notFound:2}
Microsoft.Live.Messenger.AddContactResultCode.createEnum('Microsoft.Live.Messenger.AddContactResultCode',false);Microsoft.Live.Messenger.InviteAddressResultCode=function(){};Microsoft.Live.Messenger.InviteAddressResultCode.prototype={success:0,failure:1}
Microsoft.Live.Messenger.InviteAddressResultCode.createEnum('Microsoft.Live.Messenger.InviteAddressResultCode',false);Microsoft.Live.Messenger.SendMessageResultCode=function(){};Microsoft.Live.Messenger.SendMessageResultCode.prototype={success:0,failure:1}
Microsoft.Live.Messenger.SendMessageResultCode.createEnum('Microsoft.Live.Messenger.SendMessageResultCode',false);Microsoft.Live.Messenger.SignInResultCode=function(){};Microsoft.Live.Messenger.SignInResultCode.prototype={success:0,failure:1}
Microsoft.Live.Messenger.SignInResultCode.createEnum('Microsoft.Live.Messenger.SignInResultCode',false);Microsoft.Live.Messenger.SignOutResultCode=function(){};Microsoft.Live.Messenger.SignOutResultCode.prototype={success:0,failure:1}
Microsoft.Live.Messenger.SignOutResultCode.createEnum('Microsoft.Live.Messenger.SignOutResultCode',false);Microsoft.Live.Messenger._M$6={$0:'Custom message with that ID already exists',$1:'Application message content must not be empty and must not exceed 5000 characters',$2:'Application message with that ID not supported',$3:'No custom message with that ID exists',$4:'Value cannot be empty.',$5:'Value is invalid: {1}\\r\\n{0}',$6:'Value cannot be null: {0}',$7:'Specified argument was out of the range of valid values.',$8:'Argument must be positive',$9:'Cannot create conversation with self',$A:'Collection already contains object.',$B:'Collection does not contain object.',$C:'Collection is read-only.',$D:'Configuration not loaded.',$E:'The contact must be a member of User.Contacts to perform this operation.',$F:'Display name is invalid. Use IMAddressPresence.IsDisplayNameValid() to validate user input.',$10:'Display name is read-only',$11:'Endpoint name is invalid. Use Endpoint.IsNameValid() to validate user input.',$12:'Only the user\'s local endpoint can be modified.',$13:'A group with the name \'{0}\' already exists.',$14:'Group name is invalid. Use User.Groups.IsNameValid() to validate user input.',$15:'ID too long',$16:'Operation is not valid due to the current state of the object. {0}',$17:'Invitee already in conversation',$18:'Multiparty chat is not supported',$19:'Cannot access a disposed object named \'{0}\'.',$1A:'Object does not belong to user',$1B:'Object returned by User.OnCreateMailbox is invalid',$1C:'User.OnCreateConversation returned an invalid Conversation',$1D:'Unable to find page path.',$1E:'Personal message is invalid. Use IMAddressPresence.IsPersonalMessageValid() to validate user input.',$1F:'Should contain only [A..Z][a..z][0..9]',$20:'Presence extension name must be less than or equal to 6 characters',$21:'A PresenceExtensionFactory must registered with the User object',$22:'property value(PresenceExtenstionFactory.Serialize(property) should not be null',$23:'property length > 500',$24:'Contacts\' presence is read-only',$25:'An address of the same type already exists in the contact!',$26:'Unable to find script path.',$27:'Text message is invalid',$28:'User has already signed in',$29:'User must be signed in in order to perform operation',$2A:'Nickname is invalid. Use Contact.IsNicknameValid() to validate user input.',$2B:'A DOM element must exist with the ID of controlId.',$2C:'The page that hosts the SignInControl must not reside in Messenger\'s domain.',$2D:'The SignInControl must be hosted in a page that is served through the standard Http port (80)'};Microsoft.Live.Messenger.Capabilities=function(address){this.$0=address;}
Microsoft.Live.Messenger.Capabilities.$8=function($p0){if((!$p0)||(!$p0.length)){return 0;}return(-268435456&$p0[0]);}
Microsoft.Live.Messenger.Capabilities.$9=function($p0){var $0=Microsoft.Live.Messenger.Capabilities.$8($p0);var $1=0;var $2=0;if($0){switch($0){case 268435456:$1=6;break;case 536870912:$1=6;$2=1;break;case 805306368:$1=6;$2=2;break;case 1073741824:$1=7;break;case 1342177280:$1=7;$2=5;break;case 1610612736:$1=8;break;case 1879048192:$1=8;$2=1;break;default:if((-2147483648&$0)===$0){$1=8;$2=5;}break;}}return new Microsoft.Live.Core.Version($1,$2,0,0);}
Microsoft.Live.Messenger.Capabilities.prototype={$0:null,$1:null,$2:null,get_isOnlineViaMobileDevice:function(){return this.$7(0,1);},get_isOnlineViaWeb:function(){return this.$7(0,512);},get_$3:function(){return this.$7(0,32);},get_$4:function(){return this.$7(1,8);},get_version:function(){if(!this.$2){this.$2=Microsoft.Live.Messenger.Capabilities.$9(this.$1);}return this.$2;},get_supportsMultipartyConversations:function(){return(this.$0.get_type()===1);},supportsMessageType:function(messageType){var $0=this.$0.get_type();switch($0){case 1:switch(messageType){case 1:return true;case 2:return(Microsoft.Live.Messenger.Capabilities.$8(this.$1)>=1073741824);case 3:return this.get_$4();}break;case 32:switch(messageType){case 3:return this.get_$4();default:return true;}case 2:case 8:case 4:case 16:switch(messageType){case 1:return true;case 3:return this.get_$4();}break;}return false;},add_propertyChanged:function(value){this.$5=Delegate.combine(this.$5,value);},remove_propertyChanged:function(value){this.$5=Delegate.remove(this.$5,value);},$5:null,$6:function($p0){if(this.$5){this.$5.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$7:function($p0,$p1){if((this.$1)&&(this.$1.length>$p0)){return((this.$1[$p0]&$p1)===$p1);}return false;},$A:function($p0){if(!$p0.length){return false;}var $0=false;var $1=Microsoft.Live.Messenger.Capabilities.$8(this.$1);var $2=this.get_isOnlineViaMobileDevice();var $3=this.get_isOnlineViaWeb();this.$1=$p0;if($2!==this.get_isOnlineViaMobileDevice()){this.$6('IsOnlineViaMobileDevice');$0=true;}if($3!==this.get_isOnlineViaWeb()){this.$6('IsOnlineViaWeb');$0=true;}if($1!==Microsoft.Live.Messenger.Capabilities.$8(this.$1)){this.$2=null;this.$6('Version');$0=true;}return $0;}}
Microsoft.Live.Messenger.Collection=function(){this.$0=[];this.$1=true;}
Microsoft.Live.Messenger.Collection.prototype={$1:false,add_collectionChanged:function(value){this.$2=Delegate.combine(this.$2,value);},remove_collectionChanged:function(value){this.$2=Delegate.remove(this.$2,value);},$2:null,add_propertyChanged:function(value){this.$3=Delegate.combine(this.$3,value);},remove_propertyChanged:function(value){this.$3=Delegate.remove(this.$3,value);},$3:null,onCollectionChanged:function(e){if(this.$1){if(this.$2){this.$2.invoke(this,e);}}},onPropertyChanged:function(e){if(this.$1){if(this.$3){this.$3.invoke(this,e);}}},get_count:function(){return this.$0.length;},get_$4:function(){return this.$0;},$5:function(){this.$1=false;this.$0.clear();},$6:function(){this.$1=true;this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(3,null,null,0));},$7:function($p0){return this.$0.contains($p0);},$8:function($p0){this.$0.add($p0);this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Count'));this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(0,$p0,null,this.$0.length-1));},$9:function($p0){var $0=this.$0.indexOf($p0);if($0>=0){this.$0.removeAt($0);this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Count'));this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(1,null,$p0,$0));}},$A:function($p0,$p1){var $0=this.$0[$p0];if($0!==$p1){this.$0[$p0]=$p1;this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(2,$p1,$0,$p0));}},$B:function($p0,$p1){this.$0.insert($p0,$p1);this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Count'));this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(0,$p1,null,$p0));},$C:function($p0){var $0=this.$0[$p0];this.$0.removeAt($p0);this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Count'));this.onCollectionChanged(new Microsoft.Live.Core.NotifyCollectionChangedEventArgs(1,null,$0,$p0));},$D:function($p0,$p1){for(var $0=$p0;$0<$p0+$p1.length;$0++){if($p1[$0]){this.$0.insert($0,$p1[$0]);}}this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Count'));this.onCollectionChanged(Microsoft.Live.Core.NotifyCollectionChangedEventArgs.$1_5(0,$p1,null,$p0,-1));},$E:function($p0,$p1){if($p1===$p0){return;}if($p0>=0&&$p0<=this.$0.length){var $0=this.$0[$p1];this.$C($p1);this.$B($p0,$0);}},getItem:function(index){if((index<0)||(index>=this.$0.length)){throw Microsoft.Live.Messenger._M$8.$5('index');}return this.$0[index];},$F:function(){return this.$0.clone();},getEnumerator:function(){return this.$0.getEnumerator();}}
Microsoft.Live.Messenger.Contact=function(user,contactInfo){this.$0=user;this.$1=contactInfo;this.$2=new Microsoft.Live.Messenger.IMAddressCollection(this);this.$8=[];for(var $0=0;$0<contactInfo.addresses.length;$0++){var $1=this.$0.$27(contactInfo.addresses[$0]);$1.set_$14(this);$1.get_presence().add_propertyChanged(Delegate.create(this,this.$19));if($1.get_$6()){$1.get_$12().roleLists=contactInfo.addresses[$0].roleLists;}this.$7|=$1.get_$12().roleLists;this.$2.$8($1);}this.$2.add_collectionChanged(Delegate.create(this,this.$1A));this.$5=this.$17();this.$6=new Microsoft.Live.Messenger.ContactPresence(this);this.$3=String.Empty;this.$4=0;this.$13(this.$3,this.$4);this.$9(false);this.$A(this.$7);}
Microsoft.Live.Messenger.Contact.isNicknameValid=function(name){if(Microsoft.Live.Messenger._M$7.$0(name)){return false;}var $0=40;if(name.length>$0){return false;}return true;}
Microsoft.Live.Messenger.Contact.$1F=function($p0){return $p0;}
Microsoft.Live.Messenger.Contact.prototype={$0:null,$1:null,$2:null,$3:null,$4:0,$5:null,$6:null,$7:0,$8:null,get_nickname:function(){return this.$1.nickname;},set_nickname:function(value){if(!this.get_$10()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$E);}if(Microsoft.Live.Messenger._M$7.$0(value)){throw Microsoft.Live.Messenger._M$8.$0('value');}if(!Microsoft.Live.Messenger.Contact.isNicknameValid(value)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$2A,'value');}if(this.$1.nickname!==value){this.$0.$38(this,value);}return value;},$9:function($p0){var $0=this.$7;var $1=0;var $2=2|4;var $3=1|16;if(($0&$2)===$2){$0&=~2;$1|=2;}if(($0&$3)===$3){$0&=~16;$1|=16;}if(this.$7!==$0){this.$7=$0;for(var $4=0;$4<this.$2.get_count();$4++){this.$2.get_item($4).get_$12().roleLists=$0;}}if($p0){this.$A($1);}},$A:function($p0){if(($p0&1)){if((this.$7&1)){this.$0.get_contacts().$8(this);this.$0.get_$18().$4(this);}else{this.$0.get_contacts().$9(this);this.$D();this.$0.get_$29().$7(this);this.$0.get_$18().$5(this);}this.$1B('IsContact');}if(($p0&2)){if((this.$7&2)){this.$0.get_allowedContacts().$8(this);}else{this.$0.get_allowedContacts().$9(this);}this.$1B('IsAllowed');}if(($p0&4)){if((this.$7&4)){this.$0.get_blockedContacts().$8(this);}else{this.$0.get_blockedContacts().$9(this);}this.$1B('IsBlocked');}if(($p0&16)){if((this.$7&16)){this.$0.get_pendingContacts().$12(this);}else{this.$0.get_pendingContacts().$13(this);}}},block:function(){if(!this.get_isBlocked()){this.$0.get_blockedContacts().add(this);}},allow:function(){if(!this.get_isAllowed()){this.$0.get_allowedContacts().add(this);}},get_displayName:function(){return this.$3;},get_addresses:function(){return this.$2;},get_presence:function(){return this.$6;},get_currentAddress:function(){return this.$5;},set_currentAddress:function(value){if(value!==this.$5){this.$1D(this.$5,value);this.$5=value;this.$1B('CurrentAddress');if(this.$5){this.$6.$6(this.$5);}else{}this.$13(String.Empty,1);}return value;},get_groups:function(){return Microsoft.Live.Messenger.Contact.$1F(this.$8);},$B:function($p0){this.$8.add($p0);$p0.get_contacts().$8(this);this.$1E();},$C:function($p0){this.$8.remove($p0);$p0.get_contacts().$9(this);this.$1E();},$D:function(){var $enum1=this.$8.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();$0.get_contacts().$9(this);}this.$8.clear();this.$1E();},$E:function($p0){var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_type()===$p0){return true;}}return false;},get_$F:function(){return this.$1;},get_$10:function(){return((this.$7&1));},get_id:function(){return this.get_$F().id;},set_id:function($p0){this.get_$F().id=$p0;this.$0.get_$29().$8(this);return $p0;},$11:function($p0){if(!Microsoft.Live.Messenger._M$7.$0($p0)){if(this.$1.nickname!==$p0){this.$1.nickname=$p0;this.$1B('Nickname');this.$13(this.$1.nickname,3);return true;}}return false;},$12:function($p0){if(this.$5===$p0){this.get_presence().$6(this.$5);this.$13(this.$5.get_presence().get_displayName(),2);}},$13:function($p0,$p1){var $0=false;if(this.$4<=$p1){if(!String.isNullOrEmpty($p0)){if(($p1!==this.$4)||($p0!==this.$3)){this.$3=$p0;this.$4=$p1;$0=true;}}else{if(!String.isNullOrEmpty(this.get_nickname())){this.$3=this.get_nickname();this.$4=3;$0=true;}else if(!this.$5){this.$3=String.Empty;this.$4=0;$0=true;}else if(!String.isNullOrEmpty(this.$5.get_presence().get_displayName())){this.$3=this.$5.get_presence().get_displayName();this.$4=2;$0=true;}else if(!String.isNullOrEmpty(this.$5.get_address())){this.$3=this.$5.get_address();this.$4=1;$0=true;}else{this.$3=String.Empty;this.$4=0;$0=true;}}}if($0){this.$0.get_$18().$9(this);this.$1B('DisplayName');return true;}return false;},$14:function($p0,$p1){var $0=this.$7;var $1=(($0^$p0)&$p0);$0|=$p0;$1|=($0&$p1);$0&=~$p1;if($1){this.$7=$0;for(var $2=0;$2<this.$2.get_count();$2++){this.$2.get_item($2).get_$12().roleLists=$0;}this.$A($1);for(var $3=0;$3<this.$2.get_count();$3++){this.$2.get_item($3).$F($0,$1);if(!this.$7){this.$2.get_item($3).set_$14(null);}}return true;}return false;},get_isAllowed:function(){return((this.$7&2));},get_isBlocked:function(){return((this.$7&4));},get_$15:function(){return((this.$7&16));},add_propertyChanged:function(value){this.$16=Delegate.combine(this.$16,value);},remove_propertyChanged:function(value){this.$16=Delegate.remove(this.$16,value);},$16:null,addAddress:function(collection,address){if(this.$E(address.get_type())){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$25,'address');}var $0=address.get_$14();if($0){$0.$2.remove(address);}this.$0.$39(address,this);if(address.get_$12().roleLists!==this.$7){this.$0.$37(this,this.$7,0);}address.set_$14(this);collection.$8(address);this.$7|=address.get_$12().roleLists;address.get_$12().roleLists=this.$7;this.$9(true);},removeAddress:function(collection,address){if(this.$2.get_count()===1){this.$0.$37(this,0,this.$7);}else{this.$0.$3A(address,this);}address.set_$14(null);collection.$9(address);},$17:function(){if(!this.$2.get_count()){return null;}if(this.$2.get_count()===1){return this.$2.get_item(0);}var $0=this.$2.$F();$0.sort(Delegate.create(this,function($p1_0,$p1_1){return(this.$18($p1_0)-this.$18($p1_1));}));for(var $1=0;$1<$0.length;$1++){if($0[$1].get_presence().get_status()){return $0[$1];}}return $0[$0.length-1];},$18:function($p0){switch($p0.get_type()){case 1:return 1;case 2:return 2;case 32:return 3;case 8:return 4;case 4:return 5;case 16:return 6;default:return 7;}},$19:function($p0,$p1){if($p1.get_propertyName()==='Status'){this.set_currentAddress(this.$17());}},$1A:function($p0,$p1){for(var $0=0;$0<$p1.get_newItems().length;$0++){($p1.get_newItems()[$0]).get_presence().add_propertyChanged(Delegate.create(this,this.$19));}for(var $1=0;$1<$p1.get_oldItems().length;$1++){($p1.get_oldItems()[$1]).get_presence().remove_propertyChanged(Delegate.create(this,this.$19));}this.set_currentAddress(this.$17());},$1B:function($p0){if(this.$16){this.$16.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},add_currentAddressChanging:function(value){this.$1C=Delegate.combine(this.$1C,value);},remove_currentAddressChanging:function(value){this.$1C=Delegate.remove(this.$1C,value);},$1C:null,$1D:function($p0,$p1){if(this.$1C){this.$1C.invoke(this,new Microsoft.Live.Messenger.AddressChangingEventArgs($p0,$p1));}},$1E:function(){this.$1B('Groups');}}
Microsoft.Live.Messenger.ContactPresence=function(contact){this.$0=contact;var $0=contact.get_currentAddress().get_presence();this.$1=$0.get_status();this.$2=$0.get_personalMessage();this.$3=$0.get_displayPictureUrl();}
Microsoft.Live.Messenger.ContactPresence.prototype={$0:null,$1:0,$2:null,$3:null,get_contact:function(){return this.$0;},get_status:function(){return this.$1;},get_personalMessage:function(){return this.$2;},get_displayPictureUrl:function(){return this.$3;},add_propertyChanged:function(value){this.$4=Delegate.combine(this.$4,value);},remove_propertyChanged:function(value){this.$4=Delegate.remove(this.$4,value);},$4:null,$5:function($p0){if(this.$4){this.$4.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$6:function($p0){var $0=$p0.get_presence();if(this.get_status()!==$0.get_status()){this.$1=$0.get_status();this.$5('Status');}if(this.get_personalMessage()!==$0.get_personalMessage()){this.$2=$0.get_personalMessage();this.$5('PersonalMessage');}if(this.$3!==$0.get_displayPictureUrl()){this.$3=$0.get_displayPictureUrl();this.$5('DisplayPictureUrl');}}}
Microsoft.Live.Messenger._M$E=function(user,roleList){this.$0=user;this.$1=roleList;if(roleList===2){this.$2=4;}if(roleList===4){this.$2=2;}}
Microsoft.Live.Messenger._M$E.prototype={$0:null,$1:0,$2:0,addContact:function($p0,$p1){this.$0.$37($p1,this.$1,this.$2);},removeContact:function($p0,$p1){this.$0.$37($p1,this.$2,this.$1);},get_capacity:function(){var $0=this.$0.get_$16().addressBook;switch(this.$1){case 2:return $0.maximumAllowedCount;case 4:return $0.maximumBlockedCount;case 1:return $0.maximumContactCount;default:return 0;}}}
Microsoft.Live.Messenger.ContactCollection=function(user,owner){Microsoft.Live.Messenger.ContactCollection.constructBase(this);this.$10=owner;this.$11=user;}
Microsoft.Live.Messenger.ContactCollection.prototype={$10:null,$11:null,get_capacity:function(){return this.$10.get_capacity();},add:function(contact){if(!contact){throw Microsoft.Live.Messenger._M$8.$0('contact');}if(this.$7(contact)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$A,'contact');}this.$10.addContact(this,contact);},remove:function(contact){if(!contact){throw Microsoft.Live.Messenger._M$8.$0('contact');}if(!this.$7(contact)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$B,'contact');}this.$10.removeContact(this,contact);},findByAddress:function(address){if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}if(address.get_$7()!==this.$11){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1A,'address');}return address.get_$14();},find:function(address,addressType){if(String.isNullOrEmpty(address)){throw Microsoft.Live.Messenger._M$8.$0('address');}for(var $0=0;$0<this.get_$4().length;$0++){var $1=this.get_$4()[$0];for(var $2=0;$2<$1.get_addresses().get_count();$2++){var $3=$1.get_addresses().get_item($2);if(($3.get_address()===address)&&($3.get_type()===addressType)){return $1;}}}return null;},get_item:function(index){return this.getItem(index);}}
Microsoft.Live.Messenger._M$F=function(user){this.$1={};this.$0={};this.$2=user;}
Microsoft.Live.Messenger._M$F.$9=function($p0){return new Microsoft.Live.Core.Guid($p0).equals(Microsoft.Live.Core.Guid.empty);}
Microsoft.Live.Messenger._M$F.prototype={$0:null,$1:null,$2:null,$3:function($p0){var $0=Microsoft.Live.Messenger.IMAddress.$15($p0);if(Object.keyExists(this.$1,$0)){return this.$1[$0];}return null;},$4:function($p0){var $0=this.$3($p0);if(!$0){var $1=Microsoft.Live.Messenger.IMAddress.$15($p0);this.$1[$1]=$0=new Microsoft.Live.Messenger.IMAddress(this.$2,$p0);}return $0;},$5:function($p0){if(!Microsoft.Live.Messenger._M$F.$9($p0.id)&&Object.keyExists(this.$0,$p0.id)){return this.$0[$p0.id];}var $enum1=$p0.addresses.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();var $1=this.$3($0);if($1&&$1.get_$14()){return $1.get_$14();}}return null;},$6:function($p0){var $0=this.$5($p0);if(!$0){$0=new Microsoft.Live.Messenger.Contact(this.$2,$p0);if(!Microsoft.Live.Messenger._M$F.$9($p0.id)&&$0.get_$10()){this.$0[$p0.id]=$0;}}else{$0.$11($p0.nickname);}return $0;},$7:function($p0){if(Object.keyExists(this.$0,$p0.get_id())){delete this.$0[$p0.get_id()];}},$8:function($p0){if($p0.get_$10()&&!Microsoft.Live.Messenger._M$F.$9($p0.get_id())){this.$0[$p0.get_id()]=$p0;}}}
Microsoft.Live.Messenger.Conversation=function(user,address){if(!user){throw Microsoft.Live.Messenger._M$8.$0('user');}if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}user.$3E();if(address.get_$7()!==user){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1A,'address');}if(address.get_$6()){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$9,'address');}this.id=address.get_address()+':'+(address.get_type());this.$1=user;this.$4=new Microsoft.Live.Messenger.MessageHistory();this.$4.add_collectionChanged(Delegate.create(this,this.$E));this.$2=new Microsoft.Live.Messenger.IMAddressCollection(this);this.$2.add_collectionChanged(Delegate.create(this,this.$F));this.$2.$8(address);this.$2.$8(user.get_address());this.$3=new Microsoft.Live.Messenger.TypingIMAddressCollection(10000);user.get_conversations().$8(this);}
Microsoft.Live.Messenger.Conversation.$10=function($p0,$p1,$p2){var $enum1=$p0.get_conversations().getEnumerator();while($enum1.moveNext()){var $1=$enum1.get_current();if($1.id===$p1){$1.$6=true;return $1;}}var $0=$p0.$3C($p2[0]);$0.id=$p1;$0.$6=true;for(var $2=1;$2<$p2.length;$2++){$0.$2.$8($p2[$2]);}return $0;}
Microsoft.Live.Messenger.Conversation.prototype={$1:null,id:null,$2:null,$3:null,$4:null,$5:false,$6:false,$7:0,get_user:function(){return this.$1;},get_roster:function(){return this.$2;},get_typingAddresses:function(){return this.$3;},get_history:function(){return this.$4;},get_closed:function(){return this.$5;},get_id:function(){return this.id;},set_id:function($p0){this.id=$p0;return $p0;},get_supportsMultiparty:function(){if(this.$5){return false;}var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if(!$0.get_capabilities().get_supportsMultipartyConversations()){return false;}}return true;},notifyUserTyped:function(){this.$11();var $0=Date.get_now().getTime();if($0-this.$7>=10000){this.$7=$0;if(!this.$6){this.$D();}var $1=MC.$create_MessageInfo(255,null);$1.sender=this.$1.get_address().get_$12();this.$1.$42(this.id,$1,null);}},inviteAddress:function(address,userState){this.$11();if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}if(!this.get_supportsMultiparty()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$18);}if(this.$C(address)){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$17);}if(!this.$6){this.$D();}this.$1.$41(this.id,address,userState);},sendMessage:function(message,userState){this.$11();if(!message){throw Microsoft.Live.Messenger._M$8.$0('message');}var $0=message.$3(this.$1.get_address(),this);if(!this.$6){this.$D();}this.$1.$42(this.id,$0,userState);this.$4.$11(message);},close:function(){if(this.$5){return;}if(this.$6){this.$1.$43(this.id);}this.$5=true;this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Closed'));this.$1.get_conversations().$9(this);},supportsMessageType:function(messageType){if(this.$5){return false;}var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if(!$0.get_capabilities().supportsMessageType(messageType)){return false;}}return true;},supportsApplicationMessageType:function(id){if(this.$5){return false;}if(!this.$1.get_messageFactory()){return false;}var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if(!$0.$C(id)){return false;}}return true;},isTextMessageValid:function(textMessage){if(this.$5){return false;}if(String.isNullOrEmpty(textMessage)){throw Microsoft.Live.Messenger._M$8.$0('textMessage');}var $0=Microsoft.Live.Messenger._M$7.$5(Microsoft.Live.Messenger._M$9.$0(textMessage));var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $1=$enum1.get_current();switch($1.get_type()){case 1:if($1.get_capabilities().get_$3()){if(textMessage.length>5000){return false;}}else if(textMessage.length>400){return false;}break;case 8:case 2:case 32:if(textMessage.length>400){return false;}break;case 4:if($0>295){return false;}break;case 16:if($0>611){return false;}break;}}return true;},add_inviteAddressCompleted:function(value){this.$8=Delegate.combine(this.$8,value);},remove_inviteAddressCompleted:function(value){this.$8=Delegate.remove(this.$8,value);},$8:null,add_sendMessageFailed:function(value){this.$9=Delegate.combine(this.$9,value);},remove_sendMessageFailed:function(value){this.$9=Delegate.remove(this.$9,value);},$9:null,add_messageReceived:function(value){this.$A=Delegate.combine(this.$A,value);},remove_messageReceived:function(value){this.$A=Delegate.remove(this.$A,value);},$A:null,onMessageReceived:function($p0){if(this.$A){this.$A.invoke(this,$p0);}this.$4.$11($p0.get_message());},onInviteAddressCompleted:function($p0){if(this.$8){this.$8.invoke(this,$p0);}},onSendMessageFailed:function($p0){if(this.$9){this.$9.invoke(this,$p0);}},onPropertyChanged:function(e){if(this.$B){this.$B.invoke(this,e);}},dispose:function(){this.close();},addAddress:function(collection,address){throw new Error(Microsoft.Live.Messenger._M$6.$C);},removeAddress:function(collection,address){throw new Error(Microsoft.Live.Messenger._M$6.$C);},add_propertyChanged:function(value){this.$B=Delegate.combine(this.$B,value);},remove_propertyChanged:function(value){this.$B=Delegate.remove(this.$B,value);},$B:null,$C:function($p0){var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.equals($p0)){return true;}}return false;},$D:function(){var $0=this.$2.get_item(0);if($0.get_$6()){$0=this.$2.get_item(1);}this.$6=true;this.$1.$40(this.id,$0);},$E:function($p0,$p1){this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('History'));},$F:function($p0,$p1){this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('Roster'));},$11:function(){if(this.$5){throw Microsoft.Live.Messenger._M$8.$4('Conversation');}}}
Microsoft.Live.Messenger.ConversationCollection=function(user){Microsoft.Live.Messenger.ConversationCollection.constructBase(this);this.$10=user;}
Microsoft.Live.Messenger.ConversationCollection.prototype={$10:null,create:function(address){if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}if(address.equals(this.$10.get_address())){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$9);}var $0=this.$18(address);if(!$0){$0=this.$10.$3C(address);}return $0;},$11:function($p0,$p1,$p2,$p3){var $0=this.$19($p0);if(!$0){return;}var $1=this.$10.$27($p2);$0.onInviteAddressCompleted(new Microsoft.Live.Messenger.InviteAddressCompletedEventArgs($p1,$1,$p3));},$12:function($p0,$p1){var $0=this.$19($p0);if(!$0){return;}var $1=this.$10.$27($p1);$0.get_roster().$8($1);},$13:function($p0,$p1){var $0=this.$19($p0);if(!$0){return;}if($0.get_roster().get_count()>=3){var $1=this.$10.$27($p1);$0.get_roster().$9($1);}},$14:function($p0,$p1){var $0=this.$19($p0);if(!$0){return;}var $1=this.$10.$27($p1.sender);var $2=Microsoft.Live.Messenger.Message.$4(this.$10,$1,$p1);if($2){$0.onMessageReceived(new Microsoft.Live.Messenger.MessageReceivedEventArgs($2));if($1&&$2.get_type()===1){$0.get_typingAddresses().$14($1);}}},$15:function($p0,$p1){var $0=this.$19($p0);if(!$0){return;}var $1=this.$10.$27($p1);$0.get_typingAddresses().$13($1);},$16:function($p0,$p1,$p2,$p3){var $0=this.$19($p0);if(!$0){return;}var $1=Microsoft.Live.Messenger.Message.$4(this.$10,this.$10.get_address(),$p2);if($1){$0.onSendMessageFailed(new Microsoft.Live.Messenger.SendMessageFailedEventArgs($p1,$1,$p3));}},$17:function($p0,$p1){var $0=this.$19($p0);$0.set_id($p1);},$18:function($p0){var $enum1=this.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_roster().get_count()<=2){var $enum2=$0.get_roster().getEnumerator();while($enum2.moveNext()){var $1=$enum2.get_current();if($1.equals($p0)){return $0;}}}}return null;},$19:function($p0){var $enum1=this.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_id()===$p0){return $0;}}return null;},get_item:function(index){if((index<0)||(index>=this.get_count())){throw Microsoft.Live.Messenger._M$8.$5('index');}return this.get_$4()[index];}}
Microsoft.Live.Messenger.Endpoint=function(address,endpointInfo){this.$0=address;this.$1=endpointInfo;this.$2=new Microsoft.Live.Messenger.Capabilities(this.$0);this.$2.$A(this.$1.capabilities);this.$3=new Microsoft.Live.Messenger.EndpointPresence(this);}
Microsoft.Live.Messenger.Endpoint.isNameValid=function(name){if(Microsoft.Live.Messenger._M$7.$0(name)){return false;}var $0=name.trim();var $1=50;if($0.length>$1){return false;}return true;}
Microsoft.Live.Messenger.Endpoint.prototype={$0:null,$1:null,$2:null,$3:null,id:null,get_id:function(){if(!this.id){this.id=new Microsoft.Live.Core.Guid(this.$1.id);}return this.id;},get_name:function(){return(this.$1.endpointName||String.Empty);},set_name:function(value){if(!this.get_$4()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$12);}if(Microsoft.Live.Messenger._M$7.$0(value)){throw Microsoft.Live.Messenger._M$8.$0('value');}var $0=value.trim();if(!Microsoft.Live.Messenger.Endpoint.isNameValid($0)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$11,'value');}if(this.$1.endpointName!==$0){this.$0.get_$7().$34(MC.$create_EndpointPresenceInfo(this.$1.id,null,$0,null,null,null,null));}return value;},get_imAddress:function(){return this.$0;},get_capabilities:function(){return this.$2;},get_presence:function(){return this.$3;},get_$4:function(){return this.$0.$B(this);},get_$5:function(){return this.$1;},equals:function(other){if(!other){return false;}return(this.$1.id===other.$1.id);},$6:function($p0){var $0=false;if(this.$2.$A($p0.capabilities)){this.$8('Capabilities');$0=true;}if(this.$3.$6($p0)){this.$8('Presence');$0=true;}if(!Microsoft.Live.Messenger._M$7.$0($p0.endpointName)&&(this.$1.endpointName!==$p0.endpointName)){this.$1.endpointName=$p0.endpointName;this.$8('Name');$0=true;}return $0;},add_propertyChanged:function(value){this.$7=Delegate.combine(this.$7,value);},remove_propertyChanged:function(value){this.$7=Delegate.remove(this.$7,value);},$7:null,$8:function($p0){if(this.$7){this.$7.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}}}
Microsoft.Live.Messenger.EndpointCollection=function(address){Microsoft.Live.Messenger.EndpointCollection.constructBase(this);this.$10=address;}
Microsoft.Live.Messenger.EndpointCollection.prototype={$10:null,$11:function($p0){var $0=false;for(var $2=0;$2<$p0.length;$2++){var $3=false;for(var $4=0;$4<this.get_$4().length;$4++){var $5=this.get_$4()[$4];if($p0[$2].id===$5.get_$5().id){$5.$6($p0[$2]);$3=true;break;}}if(!$3){var $6=new Microsoft.Live.Messenger.Endpoint(this.$10,$p0[$2]);this.$8($6);$0=true;}}var $1=[];for(var $7=0;$7<this.get_$4().length;$7++){var $8=this.get_$4()[$7];var $9=false;for(var $A=0;$A<$p0.length;$A++){if($8.get_$5().id===$p0[$A].id){$9=true;break;}}if(!$9&&!this.$10.$B($8)){$1.add($8);$0=true;}}for(var $B=0;$B<$1.length;$B++){this.$9($1[$B]);}return $0;},get_item:function(index){if((index<0)||(index>=this.get_count())){throw Microsoft.Live.Messenger._M$8.$5('index');}return this.get_$4()[index];}}
Microsoft.Live.Messenger.EndpointPresence=function(endpoint){this.$0=endpoint;this.$1=new Microsoft.Live.Messenger.PresencePropertyCollection(endpoint.get_$5().properties);this.$2=new Microsoft.Live.Messenger.Presence.PresenceExtensionCollection(endpoint);}
Microsoft.Live.Messenger.EndpointPresence.prototype={$0:null,$1:null,$2:null,get_properties:function(){return this.$1;},get_extensions:function(){return this.$2;},get_$3:function(){return this.$0.get_$5().applicationMessageIds;},add_propertyChanged:function(value){this.$4=Delegate.combine(this.$4,value);},remove_propertyChanged:function(value){this.$4=Delegate.remove(this.$4,value);},$4:null,$5:function($p0){if(this.$4){this.$4.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$6:function($p0){var $0=false;if(($p0.properties)&&(this.$1.$10($p0.properties))){this.$5('Properties');$0=true;}if(($p0.applicationMessageIds)&&(!Microsoft.Live.Messenger._M$C.$0($p0.applicationMessageIds,this.get_$3()))){this.$0.get_$5().applicationMessageIds=$p0.applicationMessageIds;}if(this.$0.get_imAddress().get_$7().get_presenceFactory()){if(($p0.webProperties)&&(this.$2.$11($p0.webProperties))){this.$5('Extensions');$0=true;}}return $0;}}
Microsoft.Live.Messenger.Group=function(user,groupInfo){this.$0=user;this.$1=groupInfo;this.$2=new Microsoft.Live.Messenger.ContactCollection(this.$0,this);}
Microsoft.Live.Messenger.Group.prototype={$0:null,$1:null,$2:null,get_name:function(){return this.$1.name;},set_name:function(value){if(String.isNullOrEmpty(value)){throw Microsoft.Live.Messenger._M$8.$1('value',value);}if(this.$1.name!==value){if(this.$0.get_groups().get_item(value)){throw Microsoft.Live.Messenger._M$8.$2(String.format(Microsoft.Live.Messenger._M$6.$13,value),'value');}if(!this.$0.get_groups().isNameValid(value)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$14,'value');}this.$0.$30(this,value);}return value;},get_contacts:function(){return this.$2;},get_$3:function(){return this.$1;},add_propertyChanged:function(value){this.$4=Delegate.combine(this.$4,value);},remove_propertyChanged:function(value){this.$4=Delegate.remove(this.$4,value);},$4:null,$5:function($p0){if(this.$4){this.$4.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$6:function($p0){if(this.$1.name!==$p0){this.$1.name=$p0;this.$5('Name');}},addContact:function(collection,contact){if(!contact.get_$10()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$E);}this.$0.$35(contact,this);},removeContact:function(collection,contact){this.$0.$36(contact,this);},get_capacity:function(){return this.$0.get_$16().addressBook.maximumContactCount;}}
Microsoft.Live.Messenger.GroupCollection=function(user){Microsoft.Live.Messenger.GroupCollection.constructBase(this);this.$10=user;}
Microsoft.Live.Messenger.GroupCollection.prototype={$10:null,get_capacity:function(){return this.$10.get_$16().addressBook.maximumGroupCount;},create:function(groupName){if(String.isNullOrEmpty(groupName)){throw Microsoft.Live.Messenger._M$8.$1('groupName',groupName);}if(this.get_item(groupName)){throw Microsoft.Live.Messenger._M$8.$2(String.format(Microsoft.Live.Messenger._M$6.$13,groupName),'groupName');}if(!this.isNameValid(groupName)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$14,'groupName');}var $0=MC.$create_GroupInfo(Microsoft.Live.Core.Guid.newGuid().toString(),groupName,[]);var $1=this.$10.$2B($0);this.$10.$2F($1);this.$8($1);return $1;},remove:function(group){if(!group){throw Microsoft.Live.Messenger._M$8.$0('group');}if(!this.$7(group)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$B,'group');}this.$10.$31(group);this.$9(group);},isNameValid:function(groupName){if(String.isNullOrEmpty(groupName)){return false;}var $0=40;if(groupName.length>$0){return false;}return(!this.get_item(groupName));},get_item:function(key){if(isNull(key)){throw Microsoft.Live.Messenger._M$8.$0('key');}if(Type.getInstanceType(key)===String){var $0=key;if(String.isNullOrEmpty($0)){throw Microsoft.Live.Messenger._M$8.$1('name',$0);}var $1=MC.$create_GroupInfo(Microsoft.Live.Core.Guid.newGuid().toString(),$0,[]);return this.$10.$2A($1);}else if(Type.getInstanceType(key)===Number){return this.getItem(key);}else{throw Microsoft.Live.Messenger._M$8.$5('key');}}}
Microsoft.Live.Messenger._M$D=function(configInfo){this.$1=configInfo;}
Microsoft.Live.Messenger._M$D.get_$2=function(){return Microsoft.Live.Messenger._M$D.$0;}
Microsoft.Live.Messenger._M$D.get_$3=function(){return Microsoft.Live.Messenger._M$D.$0;}
Microsoft.Live.Messenger._M$D.$5=function($p0){Microsoft.Live.Messenger._M$D.$0=new Microsoft.Live.Messenger._M$D($p0);}
Microsoft.Live.Messenger._M$D.get_$6=function(){return window.location.hostname.toLowerCase();}
Microsoft.Live.Messenger._M$D.prototype={$1:null,get_$4:function(){return this.$1;}}
Microsoft.Live.Messenger.IMAddress=function(user,addressInfo){this.$0=user;this.$1=addressInfo;this.$2=new Microsoft.Live.Messenger.EndpointCollection(this);this.$3=new Microsoft.Live.Messenger.Capabilities(this);this.$4=new Microsoft.Live.Messenger.IMAddressPresence(this);}
Microsoft.Live.Messenger.IMAddress.$15=function($p0){return $p0.address+':'+$p0.type;}
Microsoft.Live.Messenger.IMAddress.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,get_address:function(){return this.$1.address;},get_type:function(){switch(this.$1.type){case 1:return 1;case 2:return 2;case 32:return 32;case 4:return 4;case 16:return 16;case 8:return 8;default:return 0;}},get_endpoints:function(){return this.$2;},get_capabilities:function(){return this.$3;},get_cid:function(){if(this.get_type()===1){return this.get_$12().cid;}else{return String.Empty;}},get_presence:function(){return this.$4;},get_isOnline:function(){switch(this.$4.get_status()){case 2:case 0:return false;default:return true;}},get_isFederated:function(){return(this.$1.type!==1);},get_isIdentityVerified:function(){return(!this.$4.get_$3().isIdentityUnverified);},get_networkIconUrl:function(){if(String.isNullOrEmpty(this.$4.get_$3().networkIconUrl)){return null;}return new Microsoft.Live.Core.Uri(this.$4.get_$3().networkIconUrl);},get_$6:function(){return(this.$0.get_address()===this);},get_$7:function(){return this.$0;},get_$8:function(){return((this.$1.roleLists&1));},get_$9:function(){return((this.$1.roleLists&2));},get_$A:function(){return((this.$1.roleLists&4));},$B:function($p0){return(this.$0.get_localEndpoint()===$p0);},$C:function($p0){var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_presence().get_$3().contains($p0)){return true;}}return false;},add_propertyChanged:function(value){this.$D=Delegate.combine(this.$D,value);},remove_propertyChanged:function(value){this.$D=Delegate.remove(this.$D,value);},$D:null,equals:function(other){if(!other){return false;}return((this.$1.address===other.$1.address)&&(this.$1.type===other.$1.type));},$E:function($p0){if(this.$D){this.$D.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$F:function($p0,$p1){this.$1.roleLists=$p0;if($p1){if(($p1&1)){this.$E('IsContact');}if(($p1&2)){this.$E('IsAllowed');}if(($p1&4)){this.$E('IsBlocked');}}},$10:function($p0,$p1,$p2){if(this.$4.$7($p1)){this.$E('Presence');}if(this.$3.$A($p1.capabilities)){this.$4.get_$3().capabilities=$p1.capabilities;this.$E('Capabilities');}if($p2){if(this.$2.$11($p2)){this.$E('Endpoints');}}if($p1.isIdentityUnverifiedChanged&&this.$4.get_$3().isIdentityUnverified!==$p1.isIdentityUnverified){this.$4.get_$3().isIdentityUnverified=$p1.isIdentityUnverified;this.$E('IsIdentityVerified');}if((!Microsoft.Live.Messenger._M$7.$0($p1.networkIconUrl))&&(this.$4.get_$3().networkIconUrl!==$p1.networkIconUrl)){this.$4.get_$3().networkIconUrl=$p1.networkIconUrl;this.$E('NetworkIconUrl');}},$11:function(){this.$E('IsOnline');},get_$12:function(){return this.$1;},get_$13:function(){return Microsoft.Live.Messenger.IMAddress.$15(this.$1);},get_$14:function(){return this.$5;},set_$14:function($p0){this.$5=$p0;return $p0;}}
Microsoft.Live.Messenger.IMAddressCollection=function(owner){Microsoft.Live.Messenger.IMAddressCollection.constructBase(this);this.$10=owner;}
Microsoft.Live.Messenger.IMAddressCollection.prototype={$10:null,add:function(address){if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}if(this.$7(address)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$A,'address');}this.$10.addAddress(this,address);},remove:function(address){if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}if(!this.$7(address)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$B,'address');}this.$10.removeAddress(this,address);},get_item:function(index){if((index<0)||(index>=this.get_count())){throw Microsoft.Live.Messenger._M$8.$5('index');}return this.get_$4()[index];}}
Microsoft.Live.Messenger.IMAddressPresence=function(address){this.$0=address;this.$1=MC.$create_PresenceInfo(1,'','','',[],[]);this.$8();this.$2=new Microsoft.Live.Messenger.PresencePropertyCollection(this.$1.properties);}
Microsoft.Live.Messenger.IMAddressPresence.isDisplayNameValid=function(displayName){if(Microsoft.Live.Messenger._M$7.$0(displayName)){return false;}var $0=129;if(displayName.length>$0){return false;}if(displayName.indexOf('&#')>=0){return false;}return true;}
Microsoft.Live.Messenger.IMAddressPresence.isPersonalMessageValid=function(message){if(Microsoft.Live.Messenger._M$7.$0(message)){return false;}var $0=129;return(message.length<=$0);}
Microsoft.Live.Messenger.IMAddressPresence.prototype={$0:null,$1:null,$2:null,get_imAddress:function(){return this.$0;},get_properties:function(){return this.$2;},get_displayName:function(){return this.$1.displayName;},set_displayName:function(value){this.$6();this.$0.get_$7().$3E();if(!this.$0.get_$7().get_settings().get_canUpdateDisplayName()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$10);}if(Microsoft.Live.Messenger._M$7.$0(value)){throw Microsoft.Live.Messenger._M$8.$0('value');}if(!Microsoft.Live.Messenger.IMAddressPresence.isDisplayNameValid(value)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$F,'value');}if(this.$1.displayName!==value){var $0=MC.$create_PresenceInfo(0,value,null,null,null,null);this.$0.get_$7().$33($0);}return value;},get_displayPictureUrl:function(){this.$8();if(String.isNullOrEmpty(this.$1.displayPictureUrl)){return null;}return new Microsoft.Live.Core.Uri(this.$1.displayPictureUrl);},get_personalMessage:function(){return this.$1.personalMessage;},set_personalMessage:function(value){this.$6();this.$0.get_$7().$3E();if(Microsoft.Live.Messenger._M$7.$0(value)){throw Microsoft.Live.Messenger._M$8.$0('value');}if(!Microsoft.Live.Messenger.IMAddressPresence.isPersonalMessageValid(value)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1E,'value');}if(this.$1.personalMessage!==value){var $0=MC.$create_PresenceInfo(0,null,value,null,null,this.$1.properties);this.$0.get_$7().$33($0);}return value;},get_status:function(){switch(this.$1.status){case 3:return 2;case 7:return 6;case 6:return 5;case 4:return 3;case 5:return 4;case 8:return 7;case 2:return 1;case 9:return 8;case 0:case 1:return 0;default:return 0;}},set_status:function(value){this.$6();this.$0.get_$7().$3F();var $0=0;switch(value){case 2:$0=3;break;case 6:$0=7;break;case 5:$0=6;break;case 3:$0=4;break;case 4:$0=5;break;case 7:$0=8;break;case 1:$0=2;break;case 8:$0=9;break;case 0:$0=0;break;}if(!$0){throw Microsoft.Live.Messenger._M$8.$5('Status');}if(this.$1.status!==$0){var $1=MC.$create_PresenceInfo($0,null,null,null,this.$1.capabilities,null);$1.displayPictureKey=this.$1.displayPictureKey;this.$0.get_$7().$33($1);}return value;},get_$3:function(){return this.$1;},add_propertyChanged:function(value){this.$4=Delegate.combine(this.$4,value);},remove_propertyChanged:function(value){this.$4=Delegate.remove(this.$4,value);},$4:null,$5:function($p0){if(this.$4){this.$4.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$6:function(){if(!this.$0.get_$6()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$24);}},$7:function($p0){var $0=false;if(($p0.status)&&($p0.status!==this.$1.status)){var $1=this.$1.status;this.$1.status=$p0.status;this.$5('Status');var $2=this.get_imAddress().get_$7().get_$18().$8(this.get_imAddress(),this.$1.status,$1);if($2){this.get_imAddress().$11();}$0=true;}if((!Microsoft.Live.Messenger._M$7.$0($p0.displayName))&&(this.$1.displayName!==$p0.displayName)){this.$1.displayName=$p0.displayName;this.$5('DisplayName');$0=true;}if(!Microsoft.Live.Messenger._M$7.$0($p0.displayPictureKey)){this.$1.displayPictureKey=$p0.displayPictureKey;}if((!Microsoft.Live.Messenger._M$7.$0($p0.personalMessage))&&(this.$1.personalMessage!==$p0.personalMessage)){this.$1.personalMessage=$p0.personalMessage;this.$5('PersonalMessage');$0=true;}if((String.isNullOrEmpty(this.$1.displayPictureUrl))&&!(String.isNullOrEmpty($p0.displayPictureUrl))){this.$1.displayPictureUrl=$p0.displayPictureUrl;this.$5('DisplayPictureUrl');$0=true;}if(($p0.properties)&&(this.$2.$10($p0.properties))){this.$5('Properties');$0=true;}if($0){if(this.get_imAddress().get_$14()){this.get_imAddress().get_$14().$12(this.get_imAddress());}}return $0;},$8:function(){if(!String.isNullOrEmpty(this.get_imAddress().get_cid())&&(Microsoft.Live.Messenger._M$D.get_$3())){if(!String.isNullOrEmpty(Microsoft.Live.Messenger._M$D.get_$2().get_$4().displayPictureUrl)){this.$1.displayPictureUrl=String.format(Microsoft.Live.Messenger._M$D.get_$2().get_$4().displayPictureUrl,this.$0.get_cid());}}}}
Microsoft.Live.Messenger.MessageHistory=function(){Microsoft.Live.Messenger.MessageHistory.constructBase(this);this.$10=new Date(0);}
Microsoft.Live.Messenger.MessageHistory.prototype={$10:null,$11:function($p0){var $0=Date.get_now();$p0.set_timestamp($0);this.$8($p0);this.$10=$0;this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs('LastReceived'));},get_lastReceived:function(){return this.$10;},get_item:function(index){return this.getItem(index);}}
Microsoft.Live.Messenger.MessengerUtility=function(){}
Microsoft.Live.Messenger.MessengerUtility.emoticonEncode=function(text){if(!Microsoft.Live.Messenger._M$D.get_$3()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$D);}if(Microsoft.Live.Messenger._M$7.$0(text)){throw Microsoft.Live.Messenger._M$8.$0('text');}return Microsoft.Live.Messenger.MessengerUtility.$0(text,Microsoft.Live.Messenger._M$D.get_$2().get_$4().emoticonUrl);}
Microsoft.Live.Messenger.MessengerUtility.$0=function($p0,$p1){var $0=document.createElement('span');if(!$p1){$p1=String.Empty;}while($p0.length>0){var $1=false;$p0.replace(Microsoft.Live.Messenger.MessengerUtility.$2,Delegate.create(null,function($p1_0){var $1_0=arguments[1];var $1_1=arguments[2];if($1_1>0){var $1_4=Microsoft.Live.Messenger._M$7.$6($p0,0,$1_1);$0.appendChild(Microsoft.Live.Messenger.MessengerUtility.$1($1_4));}switch($1_0){case'\r\n':case'\r':case'\n':$0.appendChild(document.createElement('br'));break;default:var $1_2=document.createElement('img');$1_2.src=$p1+Microsoft.Live.Messenger.MessengerUtility.$3[Microsoft.Live.Messenger._M$7.$1($1_0)]+'.gif';$1_2.title=$1_0;$1_2.alt=$1_0;$0.appendChild($1_2);break;}var $1_3=$1_1+$1_0.length;$p0=Microsoft.Live.Messenger._M$7.$6($p0,$1_3,$p0.length-$1_3);$1=true;return'';}));if(!$1){$0.appendChild(Microsoft.Live.Messenger.MessengerUtility.$1($p0));$p0=String.Empty;}}return $0;}
Microsoft.Live.Messenger.MessengerUtility.$1=function($p0){return document.createTextNode($p0);}
Microsoft.Live.Messenger._M$13=function(){this.$0=new Microsoft.Live.Messenger.SortedContactCollection(null);this.$1=new Microsoft.Live.Messenger.SortedContactCollection(null);}
Microsoft.Live.Messenger._M$13.prototype={$0:null,$1:null,get_$2:function(){return this.$0;},get_$3:function(){return this.$1;},$4:function($p0){if(this.$A($p0.get_currentAddress().get_presence().get_$3().status)){this.$0.$13($p0);}else{this.$1.$13($p0);}},$5:function($p0){if(this.$A($p0.get_currentAddress().get_presence().get_$3().status)){this.$0.$14($p0);}else{this.$1.$14($p0);}},$6:function($p0){this.$1.$14($p0);this.$0.$13($p0);},$7:function($p0){this.$0.$14($p0);this.$1.$13($p0);},$8:function($p0,$p1,$p2){if(!$p0.get_$14()){return false;}var $0=$p0.get_$14().get_currentAddress().equals($p0);if(this.$A($p1)&&!this.$A($p2)&&$0){this.$6($p0.get_$14());return true;}if(!this.$A($p1)&&this.$A($p2)&&$0){this.$7($p0.get_$14());return true;}return false;},$9:function($p0){this.get_$2().$1A($p0);},$A:function($p0){switch($p0){case 3:case 1:return false;default:return true;}}}
Microsoft.Live.Messenger.PendingContact=function(collection,address){this.$0=collection;this.$1=address;}
Microsoft.Live.Messenger.PendingContact.prototype={$0:null,$1:null,get_imAddress:function(){return this.$1;},get_inviteMessage:function(){return this.$1.get_$12().inviteMessage;},accept:function(){this.$0.accept(this);},decline:function(){this.$0.decline(this);}}
Microsoft.Live.Messenger.PendingContactCollection=function(user){Microsoft.Live.Messenger.PendingContactCollection.constructBase(this);this.$10=user;}
Microsoft.Live.Messenger.PendingContactCollection.prototype={$10:null,$11:function($p0){var $enum1=this.get_$4().getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_imAddress()===$p0){return;}}this.$8(new Microsoft.Live.Messenger.PendingContact(this,$p0));},$12:function($p0){var $enum1=$p0.get_addresses().getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();var $enum2=this.get_$4().getEnumerator();while($enum2.moveNext()){var $1=$enum2.get_current();if($0===$1.get_imAddress()){return;}}}this.$8(new Microsoft.Live.Messenger.PendingContact(this,$p0.get_currentAddress()));},$13:function($p0){var $enum1=$p0.get_addresses().getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();var $enum2=this.getEnumerator();while($enum2.moveNext()){var $1=$enum2.get_current();if($0===$1.get_imAddress()){this.$9($1);return;}}}},accept:function(contact){if(!contact){throw Microsoft.Live.Messenger._M$8.$0('contact');}if(!this.$7(contact)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$B,'contact');}this.$14(contact,2|1,16);},decline:function(contact){if(!contact){throw Microsoft.Live.Messenger._M$8.$0('contact');}if(!this.$7(contact)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$B,'contact');}this.$14(contact,4,16);},$14:function($p0,$p1,$p2){var $0=MC.$create_ContactInfo(Microsoft.Live.Core.Guid.empty.toString(),null,[$p0.get_imAddress().get_$12()]);var $1=this.$10.$28($0);this.$10.$37($1,$p1,$p2);},get_item:function(index){if((index<0)||(index>=this.get_count())){throw Microsoft.Live.Messenger._M$8.$5('index');}return this.get_$4()[index];}}
Microsoft.Live.Messenger.PremiumFeature=function(featureInfo){this.$0=featureInfo;}
Microsoft.Live.Messenger.PremiumFeature.prototype={$0:null,get_provisioned:function(){return this.$0.isProvisioned;},get_enabled:function(){return this.$0.isEnabled;},get_suspended:function(){return this.$0.isSuspended;},add_propertyChanged:function(value){this.$1=Delegate.combine(this.$1,value);},remove_propertyChanged:function(value){this.$1=Delegate.remove(this.$1,value);},$1:null,$2:function($p0){if(this.$1){this.$1.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$3:function($p0){var $0=false;if(this.$0.isEnabled!==$p0.isEnabled){this.$0.isEnabled=$p0.isEnabled;this.$2('Enabled');$0=true;}if(this.$0.isProvisioned!==$p0.isProvisioned){this.$0.isProvisioned=$p0.isProvisioned;this.$2('Provisioned');$0=true;}if(this.$0.isSuspended!==$p0.isSuspended){this.$0.isSuspended=$p0.isSuspended;this.$2('Suspended');$0=true;}return $0;}}
Microsoft.Live.Messenger.PresenceProperty=function(name,value){if(String.isNullOrEmpty(name)){throw Microsoft.Live.Messenger._M$8.$1('name',name);}if(Microsoft.Live.Messenger._M$7.$0(value)){throw Microsoft.Live.Messenger._M$8.$0('value');}this.$0=name;this.$1=value;}
Microsoft.Live.Messenger.PresenceProperty.prototype={$0:null,$1:null,get_name:function(){return this.$0;},get_value:function(){return this.$1;}}
Microsoft.Live.Messenger.PresencePropertyCollection=function(properties){Microsoft.Live.Messenger.PresencePropertyCollection.constructBase(this);for(var $0=0;$0<properties.length;$0++){this.get_$4().add(new Microsoft.Live.Messenger.PresenceProperty(properties[$0].key,properties[$0].value));}}
Microsoft.Live.Messenger.PresencePropertyCollection.prototype={$10:function($p0){var $0=false;for(var $2=0;$2<$p0.length;$2++){var $3=false;for(var $4=0;$4<this.get_$4().length;$4++){var $5=this.get_$4()[$4];if($p0[$2].key===$5.get_name()){if($p0[$2].value!==$5.get_value()){this.$A($4,new Microsoft.Live.Messenger.PresenceProperty($p0[$2].key,$p0[$2].value));$0=true;}$3=true;break;}}if(!$3){this.$8(new Microsoft.Live.Messenger.PresenceProperty($p0[$2].key,$p0[$2].value));$0=true;}}var $1=[];for(var $6=0;$6<this.get_$4().length;$6++){var $7=false;for(var $8=0;$8<$p0.length;$8++){if($p0[$8].key===(this.get_$4()[$6]).get_name()){$7=true;break;}}if(!$7){$1.add(this.get_$4()[$6]);$0=true;}}for(var $9=0;$9<$1.length;$9++){this.$9($1[$9]);}return $0;},get_item:function(key){if(isNull(key)){throw Microsoft.Live.Messenger._M$8.$0('key');}if(Type.getInstanceType(key)===String){var $0=key;if(String.isNullOrEmpty($0)){throw Microsoft.Live.Messenger._M$8.$1('name',$0);}for(var $1=0;$1<this.get_$4().length;$1++){if((this.get_$4()[$1]).get_name()===$0){return this.get_$4()[$1];}}return null;}else if(Type.getInstanceType(key)===Number){return this.getItem(key);}else{throw Microsoft.Live.Messenger._M$8.$5('key');}}}
Microsoft.Live.Messenger.Settings=function(user){this.$1=MC.$create_SettingsInfo();this.$2=new Microsoft.Live.Messenger.PremiumFeature(MC.$create_PremiumFeatureInfo(false,false,false));this.$3=new Microsoft.Live.Messenger.PremiumFeature(MC.$create_PremiumFeatureInfo(false,false,false));this.$0=user;this.$1.privacyOptions=1;}
Microsoft.Live.Messenger.Settings.prototype={$0:null,get_privacyMode:function(){if(this.$1.privacyOptions===2){return 0;}return 1;},set_privacyMode:function(value){var $0=MC.$create_SettingsInfo();if((!value)&&(this.$1.privacyOptions!==2)){$0.privacyOptions=2;}if((value===1)&&(this.$1.privacyOptions!==1)){$0.privacyOptions=1;}if($0.privacyOptions){this.$0.$32($0);}return value;},get_canUpdateDisplayName:function(){return!this.$1.isIdentityUnverified;},get_hasMailbox:function(){return this.$1.hasInbox;},get_prepaidMobileMessaging:function(){return this.$2;},get_partnerMobileMessaging:function(){return this.$3;},get_multipleEndpointsEnabled:function(){return!this.$1.isMpopDisabled;},set_multipleEndpointsEnabled:function(value){var $0=!value;if($0!==this.$1.isMpopDisabled){var $1=MC.$create_SettingsInfo();$1.isMpopDisabled=$0;$1.isMpopDisabledChanged=true;this.$0.$32($1);}return value;},get_$4:function(){return this.$1;},add_propertyChanged:function(value){this.$5=Delegate.combine(this.$5,value);},remove_propertyChanged:function(value){this.$5=Delegate.remove(this.$5,value);},$5:null,$6:function($p0){if(this.$5){this.$5.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$7:function($p0){if($p0.hasInboxChanged&&$p0.hasInbox!==this.$1.hasInbox){this.$1.hasInbox=$p0.hasInbox;this.$6('HasMailbox');}if($p0.isIdentityUnverifiedChanged&&$p0.isIdentityUnverified!==this.$1.isIdentityUnverified){this.$1.isIdentityUnverified=$p0.isIdentityUnverified;this.$6('CanUpdateDisplayName');}if($p0.isMpopDisabledChanged&&$p0.isMpopDisabled!==this.$1.isMpopDisabled){this.$1.isMpopDisabled=$p0.isMpopDisabled;this.$6('MultipleEndpointsEnabled');}if($p0.privacyOptions&&$p0.privacyOptions!==this.$1.privacyOptions){this.$1.privacyOptions=$p0.privacyOptions;this.$6('PrivacyMode');}if($p0.prepaidMobileMessaging){if(this.$2.$3($p0.prepaidMobileMessaging)){this.$6('PrepaidMobileMessaging');}}if($p0.partnerMobileMessaging){if(this.$3.$3($p0.partnerMobileMessaging)){this.$6('PartnerMobileMessaging');}}}}
Microsoft.Live.Messenger._M$11=function(){}
Microsoft.Live.Messenger._M$11.prototype={$0:false,$1:0}
Microsoft.Live.Messenger.SortedCollection=function(){Microsoft.Live.Messenger.SortedCollection.constructBase(this);}
Microsoft.Live.Messenger.SortedCollection.prototype={$10:null,$12:function($p0,$p1){this.$5();this.$10=$p1;if($p0){var $0=$p0.clone();this.$17($0);this.$D(0,$0);}this.$6();},$13:function($p0){var $0=new Microsoft.Live.Messenger._M$11();this.$18($p0,$0);if($0.$0){if(!this.onInsertEqual(this.get_$4()[$0.$1],$p0)){}}this.$B($0.$1,$p0);},$14:function($p0){var $0=this.$16($p0);if($0>=0){this.$C($0);}},$15:function($p0){var $0=this.get_$4().indexOf($p0);if($0!==-1){var $1=new Microsoft.Live.Messenger._M$11();this.get_$4().removeAt($0);this.$18($p0,$1);this.get_$4().insert($0,$p0);if($0!==$1.$1){this.$E($1.$1,$0);}}},$16:function($p0){var $0=new Microsoft.Live.Messenger._M$11();if(this.get_$4().length>200){this.$18($p0,$0);if($0.$0){return $0.$1;}return-1;}else{return this.get_$4().indexOf($p0);}},onInsertEqual:function(listObject,rhs){return true;},$17:function($p0){$p0.sort(this.$10);},$18:function($p0,$p1){var $0=this.get_$4().length-1;var $1=0;$p1.$1=0;$p1.$0=false;var $2;var $3;if(!this.get_$4().length){return;}while($1<=$0){$2=this.$19(($0+$1)/2);$3=this.$10.invoke(this.get_$4()[$2],$p0);if($3<0){$1=$2+1;}else if($3>0){$0=$2-1;}else if(!$3){$p1.$1=$2;$p1.$0=true;return;}}$p1.$1=$1;return;},$19:function($p0){return Math.floor($p0);}}
Microsoft.Live.Messenger.SortedContactCollection=function(contacts){Microsoft.Live.Messenger.SortedContactCollection.constructBase(this);this.$1B(contacts);}
Microsoft.Live.Messenger.SortedContactCollection.prototype={findByAddress:function(address){if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}for(var $0=0;$0<this.get_$4().length;$0++){var $1=this.get_$4()[$0];for(var $2=0;$2<$1.get_addresses().get_count();$2++){if($1.get_addresses().get_item($2).equals(address)){return $1;}}}return null;},find:function(address,addressType){if(String.isNullOrEmpty(address)){throw Microsoft.Live.Messenger._M$8.$0('address');}for(var $0=0;$0<this.get_$4().length;$0++){var $1=this.get_$4()[$0];for(var $2=0;$2<$1.get_addresses().get_count();$2++){var $3=$1.get_addresses().get_item($2);if(($3.get_address()===address)&&($3.get_type()===addressType)){return $1;}}}return null;},$1A:function($p0){this.$15($p0);},$1B:function($p0){var $0;$0=Delegate.create(this,this.$1C);this.$12($p0,$0);},$1C:function($p0,$p1){var $0=($p0).get_displayName();var $1=($p1).get_displayName();return $0.localeCompare($1);},get_item:function(index){return this.getItem(index);}}
Microsoft.Live.Messenger._M$12=function(address){this.$0=address;this.$1=Date.get_now();}
Microsoft.Live.Messenger._M$12.prototype={$0:null,$1:null,get_$2:function(){return this.$0;},get_$3:function(){return this.$1;},set_$3:function($p0){this.$1=$p0;return $p0;}}
Microsoft.Live.Messenger.TypingIMAddressCollection=function(timeout){Microsoft.Live.Messenger.TypingIMAddressCollection.constructBase(this);this.$10=timeout;this.$11=[];}
Microsoft.Live.Messenger.TypingIMAddressCollection.prototype={$10:0,$11:null,$12:null,$13:function($p0){if(!this.$7($p0)){this.$8($p0);}this.$16($p0);if(!this.$12){this.$19(this.$10);}},$14:function($p0){this.$9($p0);},$15:function($p0){var $0=false;while(this.$11.length>0){var $1=this.$18();var $2=this.$10-(Date.get_now().getTime()-$1.get_$3().getTime());if($2<=100){this.$17($1);}else{this.$19($2);$0=true;break;}}if(!$0){this.$12=null;}},$16:function($p0){var $0=false;for(var $1=0;$1<this.$11.length;$1++){var $2=this.$11[$1];if($2.get_$2().equals($p0)){$2.set_$3(Date.get_now());$0=true;break;}}if(!$0){this.$11.add(new Microsoft.Live.Messenger._M$12($p0));}},$17:function($p0){this.$9($p0.get_$2());this.$11.remove($p0);},$18:function(){var $0=this.$11[0];var $enum1=this.$11.getEnumerator();while($enum1.moveNext()){var $1=$enum1.get_current();if($1.get_$3()<$0.get_$3()){$0=$1;}}return $0;},$19:function($p0){this.$12=new Microsoft.Live.Messenger._M$A(Delegate.create(this,this.$15),null,$p0,Microsoft.Live.Messenger._M$5.$0);},get_item:function(index){return(this.getItem(index));}}
Microsoft.Live.Messenger.User=function(identity){this.$12=MC.$create_ConfigurationInfo();if(!identity){throw Microsoft.Live.Messenger._M$8.$0('identity');}if(String.isNullOrEmpty(identity.get_liveId())){throw Microsoft.Live.Messenger._M$8.$0('identity.LiveId');}var $0=Microsoft.Live.Messenger._M$7.$1(identity.get_liveId());this.$0=new Microsoft.Live.Messenger._M$10(this);this.$1=identity;var $1=[(1342177280|512|32),8];var $2=MC.$create_PresenceInfo(0,null,null,null,$1,null);var $3=MC.$create_EndpointPresenceInfo(Microsoft.Live.Core.Guid.newGuid().toString(),null,Microsoft.Live.Messenger._M$D.get_$6(),$1,[],[],[]);var $4=MC.$create_IMAddressInfo($0,1,0);$4.cid=this.get_identity().get_cid();this.$9=new Microsoft.Live.Messenger._M$F(this);this.$A={};this.$2=this.$27($4);this.$2.$10(null,$2,[$3]);this.$3=this.$2.get_endpoints().get_item(0);this.$4=new Microsoft.Live.Messenger.ContactCollection(this,new Microsoft.Live.Messenger._M$E(this,1));this.$5=new Microsoft.Live.Messenger.ContactCollection(this,new Microsoft.Live.Messenger._M$E(this,2));this.$6=new Microsoft.Live.Messenger.ContactCollection(this,new Microsoft.Live.Messenger._M$E(this,4));this.$8=new Microsoft.Live.Messenger.PendingContactCollection(this);this.$7=new Microsoft.Live.Messenger._M$13();this.$B=new Microsoft.Live.Messenger.ConversationCollection(this);this.$C=new Microsoft.Live.Messenger.GroupCollection(this);this.$D=new Microsoft.Live.Messenger.Settings(this);this.$E=Microsoft.Live.Messenger.Services._M$B.$2(this.$1,$3.id,this.$0);}
Microsoft.Live.Messenger.User.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,$7:null,$8:null,$9:null,$A:null,$B:null,$C:null,$D:null,$E:null,$F:null,$10:null,$11:null,$13:0,$14:null,$15:null,get_identity:function(){return this.$1;},get_address:function(){return this.$2;},get_presence:function(){return this.$2.get_presence();},get_endpoints:function(){return this.$2.get_endpoints();},get_localEndpoint:function(){return this.$3;},get_conversations:function(){return this.$B;},get_contacts:function(){return this.$4;},get_allowedContacts:function(){return this.$5;},get_blockedContacts:function(){return this.$6;},get_pendingContacts:function(){return this.$8;},get_onlineContacts:function(){return this.$7.get_$2();},get_offlineContacts:function(){return this.$7.get_$3();},get_groups:function(){return this.$C;},get_settings:function(){return this.$D;},get_status:function(){switch(this.get_$19()){case 2:return 2;case 5:case 0:case 4:return 0;case 1:return 1;case 3:return 3;default:return 0;}},get_mailbox:function(){return this.$F;},get_messageFactory:function(){return this.$10;},set_messageFactory:function(value){this.$3E();if(value!==this.$10){var $0=[];if(value){$0=value.get_$3();}this.$34(MC.$create_EndpointPresenceInfo(this.$3.get_$5().id,null,null,null,null,$0,null));this.$10=value;this.$2E('MessageFactory');}return value;},get_presenceFactory:function(){return this.$11;},set_presenceFactory:function(value){this.$3E();if(value!==this.$11){this.$11=value;this.$2E('PresenceFactory');}return value;},get_$16:function(){return this.$12;},get_$17:function(){return(this.get_$19()===5);},get_$18:function(){return this.$7;},get_$19:function(){return this.$13;},set_$19:function($p0){if($p0!==this.$13){this.$13=$p0;this.$2E('Status');}return $p0;},add_addContactCompleted:function(value){this.$1A=Delegate.combine(this.$1A,value);},remove_addContactCompleted:function(value){this.$1A=Delegate.remove(this.$1A,value);},$1A:null,add_signedOutRemotely:function(value){this.$1B=Delegate.combine(this.$1B,value);},remove_signedOutRemotely:function(value){this.$1B=Delegate.remove(this.$1B,value);},$1B:null,add_signInCompleted:function(value){this.$1C=Delegate.combine(this.$1C,value);},remove_signInCompleted:function(value){this.$1C=Delegate.remove(this.$1C,value);},$1C:null,add_signOutCompleted:function(value){this.$1D=Delegate.combine(this.$1D,value);},remove_signOutCompleted:function(value){this.$1D=Delegate.remove(this.$1D,value);},$1D:null,add_signOutEndpointCompleted:function(value){this.$1E=Delegate.combine(this.$1E,value);},remove_signOutEndpointCompleted:function(value){this.$1E=Delegate.remove(this.$1E,value);},$1E:null,add_propertyChanged:function(value){this.$1F=Delegate.combine(this.$1F,value);},remove_propertyChanged:function(value){this.$1F=Delegate.remove(this.$1F,value);},$1F:null,signIn:function(userState){this.$3D();if(this.get_$19()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$28);}this.$3B();if(this.$2.get_presence().get_$3().status===1){this.$46(2,null);}this.set_$19(1);this.$E.signIn(this.$2.get_presence().get_$3(),this.$3.get_$5(),userState);},signOut:function(locations,userState){this.$3E();var $0=0;switch(locations){case 3:$0=(this.$2.get_endpoints().get_count()>1)?3:1;this.set_$19(3);break;case 2:$0=2;break;case 1:$0=1;this.set_$19(3);break;default:throw Microsoft.Live.Messenger._M$8.$5('locations');}this.$E.signOut($0,null,Microsoft.Live.Messenger.$create__M$14(null,locations,userState));},signOutEndpoint:function(endpoint,userState){this.$3E();if(!endpoint){throw Microsoft.Live.Messenger._M$8.$0('endpoint');}if(!this.$2.get_endpoints().$7(endpoint)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1A,'endpoint');}var $0;var $1;var $2;if(this.$3===endpoint){$0=1;$2=null;this.set_$19(3);$1=1;}else{$0=8;$2=[endpoint.get_$5().id];$1=2;}this.$E.signOut($0,$2,Microsoft.Live.Messenger.$create__M$14(endpoint,$1,userState));},addContact:function(address,inviteMessage,userState){this.$3E();if(String.isNullOrEmpty(address)){throw Microsoft.Live.Messenger._M$8.$1('address',address);}if(String.isNullOrEmpty(inviteMessage)){inviteMessage=String.Empty;}if(this.$47(address)){if(!this.$15){this.$15=[];}var $0=new Microsoft.Live.Messenger.AddContactCompletedEventArgs(2,null,userState);this.$15.enqueue($0);if(!this.$14){this.$14=new Microsoft.Live.Messenger._M$A(Delegate.create(this,this.$48),null,3,Microsoft.Live.Messenger._M$5.$0);}return;}this.$E.addAddress(address,inviteMessage,userState);},$20:function($p0){this.$D.$7($p0);},$21:function($p0,$p1,$p2){if(!this.get_settings().get_multipleEndpointsEnabled()&&this.$22($p0,$p2)){this.signOut(1,this.get_$19());this.$23();}else{var $0=this.$26($p0);if($0){$0.$10($p0,$p1,$p2);}}},$22:function($p0,$p1){if(($p0.address===this.$2.get_address())&&($p0.type===1)&&($p1)&&($p1.length>1)&&(this.get_$19()===2)){return true;}return false;},$23:function(){this.$45();this.onSignedOutRemotely(new Microsoft.Live.Messenger.SignedOutRemotelyEventArgs());},$24:function(){this.$E.refreshPresence(this.$2.get_presence().get_$3(),this.$3.get_$5(),null);},$25:function($p0,$p1){Microsoft.Live.Messenger.Conversation.$10(this,$p0,$p1);},$26:function($p0){return this.$9.$3($p0);},$27:function($p0){return this.$9.$4($p0);},$28:function($p0){return this.$9.$6($p0);},get_$29:function(){return this.$9;},$2A:function($p0){var $0=$p0.name;if(Object.keyExists(this.$A,$0)){return this.$A[$0];}return null;},$2B:function($p0){var $0=this.$2A($p0);if(!$0){var $1=$p0.name;this.$A[$1]=$0=new Microsoft.Live.Messenger.Group(this,$p0);}return $0;},$2C:function($p0){this.$12=$p0;Microsoft.Live.Messenger._M$D.$5($p0);},$2D:function($p0){this.$4.$5();this.$5.$5();this.$6.$5();this.$8.$5();this.$7.get_$3().$5();this.$7.get_$2().$5();var $enum1=this.$C.get_$4().getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();$0.get_contacts().$5();}this.$C.$5();for(var $1=0;$1<$p0.length;$1++){var $2=null;if(!new Microsoft.Live.Core.Guid($p0[$1].id).equals(Microsoft.Live.Core.Guid.empty)){$2=this.$2B($p0[$1]);this.$C.$8($2);}var $3=$p0[$1].contacts;for(var $4=0;$4<$3.length;$4++){if(!new Microsoft.Live.Core.Guid($3[$4].id).equals(Microsoft.Live.Core.Guid.empty)){var $5=this.$28($3[$4]);if($2){$5.$B($2);}}else{for(var $6=0;$6<$3[$4].addresses.length;$6++){var $7=MC.$create_ContactInfo($3[$4].id,$3[$4].nickname,[$3[$4].addresses[$6]]);this.$28($7);}}}}this.$4.$6();this.$5.$6();this.$6.$6();this.$8.$6();this.$C.$6();this.$7.get_$3().$6();this.$7.get_$2().$6();var $enum2=this.$C.get_$4().getEnumerator();while($enum2.moveNext()){var $8=$enum2.get_current();$8.get_contacts().$6();}},onAddContactCompleted:function($p0){if(this.$1A){this.$1A.invoke(this,$p0);}},onSignInCompleted:function(e){if(this.$1C){this.$1C.invoke(this,e);}},onSignOutCompleted:function($p0){if(this.$1D){this.$1D.invoke(this,$p0);}},onSignOutEndpointCompleted:function($p0){if(this.$1E){this.$1E.invoke(this,$p0);}},onSignedOutRemotely:function($p0){if(this.$1B){this.$1B.invoke(this,$p0);}},$2E:function($p0){if(this.$1F){this.$1F.invoke(this,new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}},$2F:function($p0){this.$3E();this.$E.addGroup($p0.get_$3(),null);},$30:function($p0,$p1){this.$3E();this.$A[$p1]=$p0;delete this.$A[$p0.get_$3().name];$p0.$6($p1);this.$E.renameGroup($p0.get_$3(),null);},$31:function($p0){this.$3E();this.$E.removeGroup($p0.get_$3(),null);},$32:function($p0){this.$3E();this.$E.updateSettings($p0,null);this.$D.$7($p0);},$33:function($p0){var $0=MC.$create_EndpointPresenceInfo(this.$3.get_$5().id,null,null,null,null,null,null);this.$E.updatePresence($p0,$0,null);this.$2.get_presence().$7($p0);},$34:function($p0){this.$3E();this.$3.$6($p0);var $0=MC.$create_PresenceInfo(0,null,null,null,null,null);this.$E.updatePresence($0,this.$3.get_$5(),null);},$35:function($p0,$p1){this.$3E();this.$E.addContactToGroup($p0.get_$F(),$p1.get_$3(),null);$p0.$B($p1);},$36:function($p0,$p1){this.$3E();this.$E.removeContactFromGroup($p0.get_$F(),$p1.get_$3(),null);$p0.$C($p1);},$37:function($p0,$p1,$p2){this.$3E();this.$E.updateContact($p0.get_$F(),$p1,$p2,null);$p0.$14($p1,$p2);},$38:function($p0,$p1){this.$3E();this.$E.updateContactNickname(MC.$create_ContactInfo($p0.get_$F().id,$p1,$p0.get_$F().addresses),null);$p0.$11($p1);},$39:function($p0,$p1){this.$3E();this.$E.addAddressToContact($p0.get_$12(),$p1.get_$F(),null);},$3A:function($p0,$p1){this.$3E();this.$E.removeAddressFromContact($p0.get_$12(),$p1.get_$F(),null);},onCreateMailbox:function(){return new Microsoft.Live.Messenger.Mailbox(this);},onCreateConversation:function($p0){return new Microsoft.Live.Messenger.Conversation(this,$p0);},$3B:function(){var $0=this.onCreateMailbox();if(!$0||$0.get_$5()!==this){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1B,'mailbox');}this.$F=$0;},$3C:function($p0){var $0=this.onCreateConversation($p0);if(!$0||$0.get_user()!==this){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$1C);}return $0;},$3D:function(){if(this.get_$19()===5){throw Microsoft.Live.Messenger._M$8.$4('User');}},$3E:function(){this.$3D();if(this.get_$19()!==2){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$29);}},$3F:function(){this.$3D();if((this.get_$19())&&(this.get_$19()!==2)){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$29);}},dispose:function(){if(this.get_$19()===5){return;}var $0=this.get_$19();this.set_$19(5);if(($0===1)||($0===2)){var $1=1;this.$E.signOut($1,null,Microsoft.Live.Messenger.$create__M$14(null,1,null));}},$40:function($p0,$p1){this.$E.conversationCreate($p0,$p1.get_$12());},$41:function($p0,$p1,$p2){this.$E.conversationInviteAddress($p0,$p1.get_$12(),$p2);},$42:function($p0,$p1,$p2){this.$E.conversationSendMessage($p0,$p1,$p2);},$43:function($p0){this.$E.conversationClose($p0);},$44:function($p0,$p1,$p2,$p3){if(this.get_$17()){return;}var $0=0;if($p0){$0=1;this.set_$19(4);}else{this.set_$19(2);this.$2D($p1);this.$20($p2);}this.onSignInCompleted(new Microsoft.Live.Messenger.SignInCompletedEventArgs($0,$p3));},$45:function(){var $0=[this.$3.get_$5()];if(this.get_$19()!==5){this.set_$19(4);}this.$46(1,$0);},$46:function($p0,$p1){var $0=MC.$create_PresenceInfo($p0,null,null,null,[],null);this.$2.$10(this.$2.get_$12(),$0,$p1);},$47:function($p0){var $0=MC.$create_IMAddressInfo($p0,2,1);var $1=this.$26($0);return($1);},$48:function($p0){var $0=this.$15;this.$15=null;var $1=this.$14;this.$14=null;$1.dispose();while($0.length>0){var $2=$0.dequeue();this.onAddContactCompleted($2);}}}
Microsoft.Live.Messenger._M$10=function(user){this.$0=user;}
Microsoft.Live.Messenger._M$10.prototype={$0:null,onSignedIn:function($p0,$p1,$p2,$p3){this.$0.$44($p0,$p1,$p2,$p3);},onSignedOut:function($p0,$p1,$p2){var $0=0;if($p0){$0=1;}var $1=$p2;var $2=$1.$1;var $3=$1.$0;switch($p1){case 3:case 1:this.$0.$45();break;}var $4=new Microsoft.Live.Messenger.SignOutCompletedEventArgs($0,$2,$3,$1.$2);if(!this.$0.get_$17()){if($1.$0){this.$0.onSignOutEndpointCompleted($4);}else{this.$0.onSignOutCompleted($4);}}},onAddressAdded:function($p0,$p1,$p2){var $0=1;var $1=null;if(!$p0){$0=0;if($p1&&$p1.addresses.length>0){$1=this.$0.$28($p1);var $2=($1.get_$15())?16:0;$1.$14(1|2,$2);$1.set_id($p1.id);}}else if($p0===2){$0=2;}if($p1&&!$p1.addresses.length){$0=2;}this.$0.onAddContactCompleted(new Microsoft.Live.Messenger.AddContactCompletedEventArgs($0,$1,$p2));},onGroupAdded:function($p0,$p1,$p2){if(!$p0){var $0=this.$0.$2B($p1);if($0){$0.get_$3().id=$p1.id;}}},onGroupRenamed:function($p0,$p1,$p2){},onGroupRemoved:function($p0,$p1,$p2){},onContactAddedToGroup:function($p0,$p1,$p2,$p3){},onContactRemovedFromGroup:function($p0,$p1,$p2,$p3){},onContactUpdated:function($p0,$p1,$p2){if((!$p0)&&($p1)){var $0=this.$0.$28($p1);$0.set_id($p1.id);}},onUserSettingsUpdated:function($p0,$p1){},onUserPresenceUpdated:function($p0,$p1){},onUserPresenceLost:function(){this.$0.$24();},onMailNotification:function($p0){this.$0.get_mailbox().$6($p0);},onPendingContact:function($p0){var $0=this.$0.$26($p0.addresses[0]);if($0){return;}$0=this.$0.$27($p0.addresses[0]);this.$0.get_pendingContacts().$11($0);},onPresenceChanged:function($p0,$p1,$p2){this.$0.$21($p0,$p1,$p2);},onSettingsChanged:function($p0){this.$0.$20($p0);},onSignedOutRemotely:function(){this.$0.$23();},onConfigurationChanged:function($p0){this.$0.$2C($p0);},onConversationCreated:function($p0,$p1){var $0=new Array($p1.length-1);var $1=0;for(var $2=0;$2<$p1.length;$2++){if(!($p1[$2].address===this.$0.get_address().get_$12().address&&$p1[$2].type===this.$0.get_address().get_$12().type)){$0[$1++]=this.$0.$27($p1[$2]);}}this.$0.$25($p0,$0);},onConversationInviteAddressCompleted:function($p0,$p1,$p2,$p3){var $0=0;if($p1){$0=1;}this.$0.get_conversations().$11($p0,$0,$p2,$p3);},onConversationAddressJoined:function($p0,$p1){this.$0.get_conversations().$12($p0,$p1);},onConversationAddressLeft:function($p0,$p1){this.$0.get_conversations().$13($p0,$p1);},onConversationMessageReceived:function($p0,$p1){if($p1.type===255){this.$0.get_conversations().$15($p0,$p1.sender);}else{this.$0.get_conversations().$14($p0,$p1);}},onConversationSendMessageFailed:function($p0,$p1,$p2){this.$0.get_conversations().$16($p0,1,$p1,$p2);},onConversationUpdatedId:function($p0,$p1){this.$0.get_conversations().$17($p0,$p1);}}
Microsoft.Live.Messenger._M$15=function(liveId,channel,cid){Microsoft.Live.Messenger._M$15.constructBase(this);this.$0=liveId;this.$1=channel;this.$2=cid;}
Microsoft.Live.Messenger._M$15.prototype={$0:null,$1:null,$2:null,get_liveId:function(){return this.$0;},get_$3:function(){return this.$1;},get_cid:function(){return this.$2;}}
Microsoft.Live.Messenger.AddContactCompletedEventArgs=function(resultCode,contact,userState){Microsoft.Live.Messenger.AddContactCompletedEventArgs.constructBase(this);this.$1_0=resultCode;this.$1_1=contact;this.$1_2=userState;}
Microsoft.Live.Messenger.AddContactCompletedEventArgs.prototype={$1_0:0,$1_1:null,$1_2:null,get_resultCode:function(){return this.$1_0;},get_contact:function(){return this.$1_1;},get_userState:function(){return this.$1_2;}}
Microsoft.Live.Messenger.AddressChangingEventArgs=function(oldAddress,newAddress){Microsoft.Live.Messenger.AddressChangingEventArgs.constructBase(this);this.$1_0=oldAddress;this.$1_1=newAddress;}
Microsoft.Live.Messenger.AddressChangingEventArgs.prototype={$1_0:null,$1_1:null,get_oldAddress:function(){return this.$1_0;},get_newAddress:function(){return this.$1_1;}}
Microsoft.Live.Messenger.InviteAddressCompletedEventArgs=function(resultCode,address,userState){Microsoft.Live.Messenger.InviteAddressCompletedEventArgs.constructBase(this);if(!address){throw Microsoft.Live.Messenger._M$8.$0('address');}this.$1_0=resultCode;this.$1_1=address;this.$1_2=userState;}
Microsoft.Live.Messenger.InviteAddressCompletedEventArgs.prototype={$1_0:0,$1_1:null,$1_2:null,get_resultCode:function(){return this.$1_0;},get_imAddress:function(){return this.$1_1;},get_userState:function(){return this.$1_2;}}
Microsoft.Live.Messenger.MessageReceivedEventArgs=function(message){Microsoft.Live.Messenger.MessageReceivedEventArgs.constructBase(this);this.$1_0=message;}
Microsoft.Live.Messenger.MessageReceivedEventArgs.prototype={$1_0:null,get_message:function(){return this.$1_0;}}
Microsoft.Live.Messenger.SendMessageFailedEventArgs=function(resultCode,message,userState){Microsoft.Live.Messenger.SendMessageFailedEventArgs.constructBase(this);this.$1_0=resultCode;this.$1_1=message;this.$1_2=userState;}
Microsoft.Live.Messenger.SendMessageFailedEventArgs.prototype={$1_0:0,$1_1:null,$1_2:null,get_resultCode:function(){return this.$1_0;},get_message:function(){return this.$1_1;},get_userState:function(){return this.$1_2;}}
Microsoft.Live.Messenger.SignedOutRemotelyEventArgs=function(){Microsoft.Live.Messenger.SignedOutRemotelyEventArgs.constructBase(this);}
Microsoft.Live.Messenger.SignInCompletedEventArgs=function(resultCode,userState){Microsoft.Live.Messenger.SignInCompletedEventArgs.constructBase(this);this.$1_0=resultCode;this.$1_1=userState;}
Microsoft.Live.Messenger.SignInCompletedEventArgs.prototype={$1_0:0,$1_1:null,get_resultCode:function(){return this.$1_0;},get_userState:function(){return this.$1_1;}}
Microsoft.Live.Messenger.SignOutCompletedEventArgs=function(resultCode,locations,endpoint,userState){Microsoft.Live.Messenger.SignOutCompletedEventArgs.constructBase(this);this.$1_1=resultCode;this.$1_0=locations;this.$1_2=endpoint;this.$1_3=userState;}
Microsoft.Live.Messenger.SignOutCompletedEventArgs.prototype={$1_0:0,$1_1:0,$1_2:null,$1_3:null,get_endpoint:function(){return this.$1_2;},get_locations:function(){return this.$1_0;},get_resultCode:function(){return this.$1_1;},get_userState:function(){return this.$1_3;}}
Microsoft.Live.Messenger._M$C=function(){}
Microsoft.Live.Messenger._M$C.$0=function($p0,$p1){if($p0.length!==$p1.length){return false;}var $0=[];$0.addRange($p1);for(var $1=0;$1<$p0.length;$1++){var $2=$0.indexOf($p0[$1]);if($2===-1){return false;}else{$0.removeAt($2);}}return(!$0.length);}
Microsoft.Live.Messenger._M$8=function(){}
Microsoft.Live.Messenger._M$8.$0=function($p0){return new Error(String.format(Microsoft.Live.Messenger._M$6.$6,$p0));}
Microsoft.Live.Messenger._M$8.$1=function($p0,$p1){if(Microsoft.Live.Messenger._M$7.$0($p1)){return Microsoft.Live.Messenger._M$8.$0($p0);}else{return Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$4,$p0);}}
Microsoft.Live.Messenger._M$8.$2=function($p0,$p1){return new Error(String.format(Microsoft.Live.Messenger._M$6.$5,$p0,$p1));}
Microsoft.Live.Messenger._M$8.$3=function($p0){return new Error(String.format(Microsoft.Live.Messenger._M$6.$16,$p0));}
Microsoft.Live.Messenger._M$8.$4=function($p0){return new Error(String.format(Microsoft.Live.Messenger._M$6.$19,$p0));}
Microsoft.Live.Messenger._M$8.$5=function($p0){return new Error(Microsoft.Live.Messenger._M$6.$7);}
Microsoft.Live.Messenger._M$8.$6=function($p0){throw new Error($p0);}
Microsoft.Live.Messenger._M$8.$7=function($p0){throw new Error($p0);}
Microsoft.Live.Messenger._M$7=function(){}
Microsoft.Live.Messenger._M$7.$0=function($p0){return isNullOrUndefined($p0);}
Microsoft.Live.Messenger._M$7.$1=function($p0){return $p0.toLowerCase();}
Microsoft.Live.Messenger._M$7.$2=function($p0,$p1){return $p0.charCodeAt($p1);}
Microsoft.Live.Messenger._M$7.$3=function($p0,$p1){return $p0.charAt($p1);}
Microsoft.Live.Messenger._M$7.$4=function($p0){return String.fromCharCode($p0);}
Microsoft.Live.Messenger._M$7.$5=function($p0){if(String.isNullOrEmpty($p0)){return 0;}var $0=0;for(var $1=0;$1<$p0.length;$1++){var $2=Microsoft.Live.Messenger._M$7.$2($p0,$1);if($2<=127){$0++;}else if($2<=2047){$0+=2;}else if($2>=55296&&$2<=57343){$0+=2;}else{$0+=3;}}return $0;}
Microsoft.Live.Messenger._M$7.$6=function($p0,$p1,$p2){return $p0.substr($p1,$p2);}
Microsoft.Live.Messenger._M$5=function(){}
Microsoft.Live.Messenger._M$A=function(callback,state,dueTime,period){this.$0=callback;this.$1=state;this.$2=period;if(dueTime>0){this.$3=window.setTimeout(Delegate.create(this,this.$5),dueTime);}else if(!dueTime){this.$0.invoke(state);}}
Microsoft.Live.Messenger._M$A.prototype={$0:null,$1:null,$2:0,$3:0,$4:0,$5:function(){this.$0.invoke(this.$1);this.$3=0;if(this.$2>0){this.$4=window.setInterval(Delegate.create(this,this.$6),this.$2);}},$6:function(){this.$0.invoke(this.$1);},dispose:function(){if(this.$3){window.clearTimeout(this.$3);this.$3=0;}if(this.$4){window.clearInterval(this.$4);this.$4=0;}}}
Microsoft.Live.Messenger._M$9=function(){}
Microsoft.Live.Messenger._M$9.$0=function($p0){if(Microsoft.Live.Messenger._M$7.$0($p0)){return null;}if(!$p0.length){return $p0;}var $0=null;var $1=['<','>','&','\'','\"'];while(true){var $2=$p0.indexOfAny($1);if($2<0){if(!$0){return $p0;}$0.append($p0);return $0.toString();}if(!$0){$0=new StringBuilder();}$0.append($p0.substr(0,$2));$0.append(Microsoft.Live.Messenger._M$9.$1(Microsoft.Live.Messenger._M$7.$3($p0,$2)));$p0=$p0.substr($2+1);}}
Microsoft.Live.Messenger._M$9.$1=function($p0){switch($p0){case'<':return'&lt;';case'>':return'&gt;';case'\"':return'&quot;';case'\'':return'&apos;';case'&':return'&amp;';default:return null;}}
Microsoft.Live.Messenger.EmailReceivedEventArgs=function(subject,sender,senderAddress,messageUrl,folder){Microsoft.Live.Messenger.EmailReceivedEventArgs.constructBase(this);this.$1_0=subject;this.$1_1=sender;this.$1_2=senderAddress;this.$1_3=new Microsoft.Live.Core.Uri(String.format(Microsoft.Live.Messenger._M$D.get_$2().get_$4().messageUrl,messageUrl));this.$1_4=folder;}
Microsoft.Live.Messenger.EmailReceivedEventArgs.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:null,$1_4:0,get_subject:function(){return this.$1_0;},get_sender:function(){return this.$1_1;},get_senderAddress:function(){return this.$1_2;},get_messageUrl:function(){return this.$1_3;},get_folder:function(){return this.$1_4;}}
Microsoft.Live.Messenger.Mailbox=function(user){if(!user){throw Microsoft.Live.Messenger._M$8.$0('user');}this.$0=user;}
Microsoft.Live.Messenger.Mailbox.prototype={$0:null,$1:0,$2:0,$3:0,$4:0,get_inboxInitialCount:function(){return this.$1;},set_inboxInitialCount:function(value){if(value!==this.$1){this.$1=value;this.$9('InboxInitialCount');}return value;},get_inboxUnreadCount:function(){return this.$2;},set_inboxUnreadCount:function(value){if(value!==this.$2){this.$2=value;this.$9('InboxUnreadCount');}return value;},get_otherInitialCount:function(){return this.$3;},set_otherInitialCount:function(value){if(value!==this.$3){this.$3=value;this.$9('OtherInitialCount');}return value;},get_otherUnreadCount:function(){return this.$4;},set_otherUnreadCount:function(value){if(value!==this.$4){this.$4=value;this.$9('OtherUnreadCount');}return value;},get_$5:function(){return this.$0;},$6:function($p0){switch($p0.type){case 0:var $0=$p0.notification;this.set_inboxInitialCount($0.inboxTotal);this.set_inboxUnreadCount($0.inboxUnread);this.set_otherInitialCount($0.foldersTotal);this.set_otherUnreadCount($0.foldersUnread);break;case 1:var $1=$p0.notification;this.onEmailReceived(new Microsoft.Live.Messenger.EmailReceivedEventArgs($1.subject,$1.from,$1.fromAddress,new Microsoft.Live.Core.Uri($1.messageUrl),$1.folder));break;case 2:var $2=$p0.notification;if(!$2.source){this.set_inboxUnreadCount(this.get_inboxUnreadCount()-$2.delta);if($2.destination!==$2.source&&$2.destination!==6){this.$4+=$2.delta;}}else{this.set_otherUnreadCount(this.get_otherUnreadCount()-$2.delta);if($2.destination!==$2.source&&!$2.destination){this.$2+=$2.delta;}}break;default:break;}},add_emailReceived:function(value){this.$7=Delegate.combine(this.$7,value);},remove_emailReceived:function(value){this.$7=Delegate.remove(this.$7,value);},$7:null,add_propertyChanged:function(value){this.$8=Delegate.combine(this.$8,value);},remove_propertyChanged:function(value){this.$8=Delegate.remove(this.$8,value);},$8:null,onEmailReceived:function(e){if(this.$7){this.$7.invoke(this,e);}},onPropertyChanged:function(e){if(this.$8){this.$8.invoke(this,e);}},$9:function($p0){this.onPropertyChanged(new Microsoft.Live.Core.PropertyChangedEventArgs($p0));}}
Microsoft.Live.Messenger.Message=function(messageType){this.$0=messageType;this.$2=Date.get_now();}
Microsoft.Live.Messenger.Message.$4=function($p0,$p1,$p2){var $0=null;switch($p2.type){case 1:var $1=$p2.info;$0=new Microsoft.Live.Messenger.TextMessage($1.text,Microsoft.Live.Messenger.TextMessageFormat.$6($1.format));break;case 2:$0=new Microsoft.Live.Messenger.NudgeMessage();break;case 3:if($p0.get_messageFactory()){var $2=$p2.info;$0=$p0.get_messageFactory().deserialize($p1,$2.id,$2.content);}break;default:return null;}$0.$1=$p1;$0.$2=$p2.timestamp;return $0;}
Microsoft.Live.Messenger.Message.prototype={$0:0,$1:null,$2:null,get_sender:function(){return this.$1;},set_sender:function(value){this.$1=value;return value;},get_type:function(){return this.$0;},get_timestamp:function(){return this.$2;},set_timestamp:function(value){this.$2=value;return value;},$3:function($p0,$p1){this.$1=$p0;var $0=MC.$create_MessageInfo(this.$0,null);$0.sender=this.$1.get_$12();$0.timestamp=this.$2;return $0;}}
Microsoft.Live.Messenger.NudgeMessage=function(){Microsoft.Live.Messenger.NudgeMessage.constructBase(this,[2]);}
Microsoft.Live.Messenger.TextMessage=function(text,format){Microsoft.Live.Messenger.TextMessage.constructBase(this,[1]);if(String.isNullOrEmpty(text)){throw Microsoft.Live.Messenger._M$8.$0('text');}if(!format){format=Microsoft.Live.Messenger.TextMessageFormat.get_defaultFormat();}this.$5=text;this.$6=format;}
Microsoft.Live.Messenger.TextMessage.$7=function($p0){return document.createTextNode($p0);}
Microsoft.Live.Messenger.TextMessage.prototype={$5:null,$6:null,get_format:function(){return this.$6;},get_text:function(){return this.$5;},createTextElement:function(){var $0=Microsoft.Live.Messenger.MessengerUtility.$0(this.$5,this.get_sender().get_$7().get_$16().emoticonUrl);this.$6.applyToElement($0);return $0;},$3:function($p0,$p1){if(!$p1.isTextMessageValid(this.get_text())){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$27,'message');}this.set_sender($p0);var $0=MC.$create_TextMessageInfo(this.$5,this.$6.$5());var $1=MC.$create_MessageInfo(1,$0);$1.sender=$p0.get_$12();$1.timestamp=Date.get_now();return $1;}}
Microsoft.Live.Messenger.TextMessageColor=function(){}
Microsoft.Live.Messenger.TextMessageColor.fromRgb=function(r,g,b){if((r<0)||(r>255)){throw Microsoft.Live.Messenger._M$8.$5('r');}if((g<0)||(g>255)){throw Microsoft.Live.Messenger._M$8.$5('g');}if((b<0)||(b>255)){throw Microsoft.Live.Messenger._M$8.$5('b');}var $0=new Microsoft.Live.Messenger.TextMessageColor();$0.r=r;$0.g=g;$0.b=b;return $0;}
Microsoft.Live.Messenger.TextMessageColor.prototype={r:0,g:0,b:0,get_r:function(){return this.r;},get_g:function(){return this.g;},get_b:function(){return this.b;}}
Microsoft.Live.Messenger.TextMessageFormat=function(fontColor,fontFamily,fontStyle,flowDirection){if(!fontColor){throw Microsoft.Live.Messenger._M$8.$0('fontColor');}if(String.isNullOrEmpty(fontFamily)){throw Microsoft.Live.Messenger._M$8.$0('fontFamily');}this.$1=fontColor;this.$2=fontFamily;this.$3=fontStyle;if(isNullOrUndefined(flowDirection)){this.$4=0;}else{this.$4=flowDirection;}}
Microsoft.Live.Messenger.TextMessageFormat.get_defaultFormat=function(){return Microsoft.Live.Messenger.TextMessageFormat.$0;}
Microsoft.Live.Messenger.TextMessageFormat.$6=function($p0){if(!$p0){return Microsoft.Live.Messenger.TextMessageFormat.get_defaultFormat();}else{return new Microsoft.Live.Messenger.TextMessageFormat(Microsoft.Live.Messenger.TextMessageColor.fromRgb(($p0.fontColor&255),(($p0.fontColor>>>8)&255),(($p0.fontColor>>>16)&255)),((!String.isNullOrEmpty($p0.fontFamily))?$p0.fontFamily:Microsoft.Live.Messenger.TextMessageFormat.get_defaultFormat().get_fontFamily()),$p0.fontStyle,(($p0.rightToLeft)?1:0));}}
Microsoft.Live.Messenger.TextMessageFormat.prototype={$1:null,$2:null,$3:0,$4:0,get_fontColor:function(){return this.$1;},get_fontFamily:function(){return this.$2;},get_fontStyle:function(){return this.$3;},get_flowDirection:function(){return this.$4;},applyToElement:function(element){if(!element){throw Microsoft.Live.Messenger._M$8.$0('element');}if(this.get_fontStyle()){if((this.get_fontStyle()&1)===1){element.style.fontWeight='bold';}if((this.get_fontStyle()&2)===2){element.style.fontStyle='italic';}if((this.get_fontStyle()&8)===8){element.style.textDecoration='underline';}if((this.get_fontStyle()&4)===4){element.style.textDecoration+=' line-through';}}element.style.fontFamily='\''+this.get_fontFamily()+'\'';element.style.color='rgb('+this.get_fontColor().get_r()+','+this.get_fontColor().get_g()+','+this.get_fontColor().get_b()+')';if(this.get_flowDirection()===1){element.style.direction='rtl';}else{element.style.direction='ltr';}},$5:function(){return MC.$create_TextMessageFormatInfo(((this.$1.get_b()<<16)|(this.$1.get_g()<<8)|this.$1.get_r()),this.$2,this.$3,(this.$4===1));}}
Type.createNamespace('Microsoft.Live.Messenger.Services');Microsoft.Live.Messenger.Services._M$B=function(){}
Microsoft.Live.Messenger.Services._M$B.get_$1=function(){return Microsoft.Live.Messenger.Services._M$B.$0;}
Microsoft.Live.Messenger.Services._M$B.set_$1=function($p0){Microsoft.Live.Messenger.Services._M$B.$0=$p0;return $p0;}
Microsoft.Live.Messenger.Services._M$B.$2=function($p0,$p1,$p2){var $0=MC.$create_IdentityInfo($p0.get_liveId(),$p1);if(Microsoft.Live.Messenger.Services._M$B.$0){return Microsoft.Live.Messenger.Services._M$B.$0;}else if(Type.canCast($p0,Microsoft.Live.Messenger._M$15)){var $1=($p0).get_$3();return new MCh.MessengerServiceProxy($0,$1,$p2);}else{return new MSL.ServiceFactory($0).createMessengerService($p2);}}
Type.createNamespace('Microsoft.Live.Messenger.UI');Microsoft.Live.Messenger.UI.SignInControl=function(controlId,privacyStatementUrl,channelUrl,market){if(String.isNullOrEmpty(controlId)){throw Microsoft.Live.Messenger._M$8.$0('controlId');}this.$0=$(controlId);if(!this.$0){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$2B,'controlId');}if(String.isNullOrEmpty(privacyStatementUrl)){throw Microsoft.Live.Messenger._M$8.$0('privacyStatementUrl');}if(String.isNullOrEmpty(channelUrl)){channelUrl=null;}if(String.isNullOrEmpty(market)){market=String.Empty;}else{market=String.format('&mkt={0}',encodeURIComponent(market));}this.$5=true;this.$1=privacyStatementUrl;var $0=this.$F();if(String.isNullOrEmpty($0)){throw new Error(Microsoft.Live.Messenger._M$6.$1D);}var $1=this.$13();if(String.isNullOrEmpty($1)){$1=String.Empty;}var $2=this.$11();if(String.isNullOrEmpty($2)){throw new Error(Microsoft.Live.Messenger._M$6.$26);}this.$14($0,$2);var $3=document.createElement('div');$3.style.position='absolute';$3.style.left='-4000px';$3.style.top='-4000px';$3.id=this.$C();document.body.appendChild($3);var $4=String.format('{0}SignInControl.html?serviceId={1}&domain={2}&debug={3}&signInServer={4}&scriptPath={5}',$0,$3.id,encodeURIComponent(this.get_$7()),this.$12(),$1,encodeURIComponent($2));var $5=String.format('{0}Channel.html',$0);this.$2=MCh.Channel.fromParent($3.id,$4,channelUrl,$5);this.$2.add_initialized(Delegate.create(this,this.$A));var $6=String.format('{0}/Applications/SignInGadget.aspx?privacyUrl={1}&domain={2}&serviceId={3}{4}',this.$10(),encodeURIComponent(this.$1),encodeURIComponent(this.get_$7()),$3.id,market);var $7=document.createElement('iframe');$7.frameBorder='0';$7.style.width='100%';$7.style.height='100%';$7.src='javascript:\'\'';this.$0.appendChild($7);new Microsoft.Live.Messenger._M$A(Delegate.create(this,function($p1_0){$7.src=$6;}),null,0,Microsoft.Live.Messenger._M$5.$0);}
Microsoft.Live.Messenger.UI.SignInControl.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:false,$6:null,get_privacyStatementUrl:function(){return this.$1;},get_style:function(){if(!this.$3){this.$3=new Microsoft.Live.Messenger.UI.SignInControlStyle();this.$3.add_$2(Delegate.create(this,this.$9));}return this.$3;},get_links:function(){return this.$4;},get_$7:function(){return window.location.hostname;},add_authenticationCompleted:function(value){this.$8=Delegate.combine(this.$8,value);},remove_authenticationCompleted:function(value){this.$8=Delegate.remove(this.$8,value);},$8:null,hide:function(){if(this.$5){this.$6=this.getControlStyle();this.$D(new MC.HtmlElementStyle('none'));this.$5=false;}},show:function(){if(!this.$5){this.$D(new MC.HtmlElementStyle(this.$6.get_display()));this.$5=true;}},$9:function($p0,$p1){var $0=this.$3.get_$4();this.$0.style.borderColor=$0.borderColor;this.$2.send('$ChangeStyle',[$0]);},$A:function($p0,$p1){this.$4=new Microsoft.Live.Messenger.UI.SignInControlLinks(this.$2.get_signInContext().get_signInCtlConfigurationInfo());var $0=new Microsoft.Live.Core.AuthenticationCompletedEventArgs(new Microsoft.Live.Messenger._M$15(this.$2.get_liveId(),this.$2,this.$2.get_signInContext().get_cid()));$0.set_status(this.$E(this.$2.get_signInContext().get_authStatus()));this.$B($0);},$B:function($p0){if(this.$8){this.$8.invoke(this,$p0);}},$C:function(){var $0=null;while(!$0){$0='msgr'+Math.floor(Math.random()*1024*1024);if($($0)){$0=null;}}return $0;},$D:function($p0){this.$0.style.display=$p0.get_display();},getControlStyle:function(){return new MC.HtmlElementStyle(this.$0.style.display);},$E:function($p0){var $0=0;if((1&$p0)){$0=$0|1;}if((2&$p0)){$0=$0|2;}return $0;},$F:function(){return window.__messengerPath;},$10:function(){var $0=this.$F();var $1=$0.indexOf('/','http://'.length);if($1<=0){return null;}return $0.substring(0,$1);},$11:function(){return window.__messengerScriptPath;},$12:function(){return window.__messengerDebug;},$13:function(){return window.__messengerSignInServer;},$14:function($p0,$p1){var $0=this.get_$7();if(window.location){var $1=window.location.port;if($1>0&&$1!==80){throw Microsoft.Live.Messenger._M$8.$7(Microsoft.Live.Messenger._M$6.$2D);}}if(!$0){return;}if($p0.indexOf('://'+$0)>=0){throw Microsoft.Live.Messenger._M$8.$6(Microsoft.Live.Messenger._M$6.$2C);}}}
Microsoft.Live.Messenger.UI.SignInControlLinks=function(configInfo){this.$0=configInfo;}
Microsoft.Live.Messenger.UI.SignInControlLinks.prototype={$0:null,get_signUpUrl:function(){return this.$0.signUpUrl;},get_changeAccountUrl:function(){return this.$0.changeAccountUrl;},get_settingsUrl:function(){return this.$0.settingsUrl;},get_privacyUrl:function(){return this.$0.privacyUrl;},get_termsOfUseUrl:function(){return this.$0.termsOfUseUrl;},get_reportAbuseUrl:function(){return this.$0.reportAbuseUrl;},get_aboutMessengerUrl:function(){return this.$0.aboutMessengerUrl;}}
Microsoft.Live.Messenger.UI.SignInControlStyle=function(){this.$0=MC.$create_SignInControlStyleInfo('#333333','#ffffff','#9d9d9e','#0066a7','#333333','#e8f5fd','#707070');}
Microsoft.Live.Messenger.UI.SignInControlStyle.prototype={$0:null,$1:null,add_$2:function($p0){this.$3=Delegate.combine(this.$3,$p0);},remove_$2:function($p0){this.$3=Delegate.remove(this.$3,$p0);},$3:null,get_$4:function(){return this.$0;},get_backColor:function(){return this.$0.backColor;},set_backColor:function(value){this.$0.backColor=this.$5(value);this.$6();return value;},get_foreColor:function(){return this.$0.foreColor;},set_foreColor:function(value){this.$0.foreColor=this.$5(value);this.$6();return value;},get_borderColor:function(){return this.$0.borderColor;},set_borderColor:function(value){this.$0.borderColor=this.$5(value);this.$6();return value;},get_linkColor:function(){return this.$0.linkColor;},set_linkColor:function(value){this.$0.linkColor=this.$5(value);this.$6();return value;},get_buttonForeColor:function(){return this.$0.buttonForeColor;},set_buttonForeColor:function(value){this.$0.buttonForeColor=this.$5(value);this.$6();return value;},get_buttonBackColor:function(){return this.$0.buttonBackColor;},set_buttonBackColor:function(value){this.$0.buttonBackColor=this.$5(value);this.$6();return value;},get_buttonBorderColor:function(){return this.$0.buttonBorderColor;},set_buttonBorderColor:function(value){this.$0.buttonBorderColor=this.$5(value);this.$6();return value;},$5:function($p0){if(String.isNullOrEmpty($p0)){throw Microsoft.Live.Messenger._M$8.$1('color',$p0);}var $0=new RegExp('^#[0-9a-f]{6,6}$','i');if(!$0.test($p0)){throw Microsoft.Live.Messenger._M$8.$5('color');}return Microsoft.Live.Messenger._M$7.$1($p0);},$6:function(){if(!this.$1){this.$1=new Microsoft.Live.Messenger._M$A(Delegate.create(this,this.$7),null,1,Microsoft.Live.Messenger._M$5.$0);}},$7:function($p0){this.$1.dispose();this.$1=null;if(this.$3){this.$3.invoke(this,EventArgs.Empty);}}}
Type.createNamespace('Microsoft.Live.Core');Microsoft.Live.Core.AuthenticationStatus=function(){};Microsoft.Live.Core.AuthenticationStatus.prototype={none:0,alreadySignedIn:1,unsupportedBrowser:2}
Microsoft.Live.Core.AuthenticationStatus.createEnum('Microsoft.Live.Core.AuthenticationStatus',true);Microsoft.Live.Core.INotifyCollectionChanged=function(){};Microsoft.Live.Core.INotifyCollectionChanged.createInterface('Microsoft.Live.Core.INotifyCollectionChanged');Microsoft.Live.Core.INotifyPropertyChanged=function(){};Microsoft.Live.Core.INotifyPropertyChanged.createInterface('Microsoft.Live.Core.INotifyPropertyChanged');Microsoft.Live.Core.NotifyCollectionChangedAction=function(){};Microsoft.Live.Core.NotifyCollectionChangedAction.prototype={add:0,remove:1,replaced:2,reset:3}
Microsoft.Live.Core.NotifyCollectionChangedAction.createEnum('Microsoft.Live.Core.NotifyCollectionChangedAction',false);Microsoft.Live.Core.AuthenticationCompletedEventArgs=function(identity){Microsoft.Live.Core.AuthenticationCompletedEventArgs.constructBase(this);this.$1_0=identity;this.$1_1=0;}
Microsoft.Live.Core.AuthenticationCompletedEventArgs.prototype={$1_0:null,$1_1:0,get_status:function(){return this.$1_1;},set_status:function(value){this.$1_1=value;return value;},get_identity:function(){return this.$1_0;}}
Microsoft.Live.Core.Guid=function(g){if(String.isNullOrEmpty(g)){throw Microsoft.Live.Messenger._M$8.$1('g',g);}if(g.charAt(0)!=='{'){g='{'+g+'}';}if(!g.match(new RegExp('^\\{[a-f\\d]{8}\\-([a-f\\d]{4}\\-){3}[a-f\\d]{12}\\}$','i'))){throw Microsoft.Live.Messenger._M$8.$5('g');}this.g=g.toLowerCase();}
Microsoft.Live.Core.Guid.newGuid=function(){var $0=new Array(4);for(var $1=0;$1<4;$1++){$0[$1]=Math.round(Math.random()*16777215).toString(16).padLeft(8,'0');}return new Microsoft.Live.Core.Guid('{'+$0[0]+'-'+$0[1].substr(0,4)+'-'+$0[1].substr(4,4)+'-'+$0[2].substr(0,4)+'-'+$0[2].substr(4,4)+$0[3]+'}');}
Microsoft.Live.Core.Guid.prototype={g:null,equals:function(guid){if(!guid){return false;}return(this.g===guid.g);},toString:function(){return this.g;}}
Microsoft.Live.Core.Identity=function(){}
Microsoft.Live.Core.Uri=function(uri){if(String.isNullOrEmpty(uri)){throw Microsoft.Live.Messenger._M$8.$1('uri',uri);}this.$0=uri;}
Microsoft.Live.Core.Uri.get_uriSchemeHttp=function(){return'http';}
Microsoft.Live.Core.Uri.prototype={$0:null,toString:function(){return this.$0;}}
Microsoft.Live.Core.Version=function(major,minor,build,revision){if((major<0)||(minor<0)||(build<0)||(revision<0)){throw Microsoft.Live.Messenger._M$8.$5(Microsoft.Live.Messenger._M$6.$8);}this.$0=major;this.$1=minor;this.$2=build;this.$3=revision;}
Microsoft.Live.Core.Version.prototype={$0:0,$1:0,$2:0,$3:0,get_major:function(){return this.$0;},get_minor:function(){return this.$1;},get_build:function(){return this.$2;},get_revision:function(){return this.$3;},toString:function(){return String.format('{0}.{1}.{2}.{3}',this.$0,this.$1,this.$2,this.$3);}}
Microsoft.Live.Core.NotifyCollectionChangedEventArgs=function(action,newItem,oldItem,index){this.$1_2=-1;this.$1_4=-1;Microsoft.Live.Core.NotifyCollectionChangedEventArgs.constructBase(this);this.$1_0=action;if(this.$1_0!==3){this.$1_1=[];this.$1_3=[];}if(!this.$1_0){this.$1_1.add(newItem);this.$1_2=index;}else if(this.$1_0===1){this.$1_3.add(oldItem);this.$1_4=index;}else if(this.$1_0===2){this.$1_1.add(newItem);this.$1_3.add(oldItem);this.$1_2=index;this.$1_4=index;}}
Microsoft.Live.Core.NotifyCollectionChangedEventArgs.$1_5=function($p0,$p1,$p2,$p3,$p4){var $0=new Microsoft.Live.Core.NotifyCollectionChangedEventArgs($p0,$p1,$p2,$p3);if($p1&&$p1.length>1){$0.$1_1.clear();$0.$1_1.addRange($p1);}if($p2&&$p2.length>1){$0.$1_3.clear();$0.$1_3.addRange($p2);}return $0;}
Microsoft.Live.Core.NotifyCollectionChangedEventArgs.prototype={$1_0:0,$1_1:null,$1_3:null,get_action:function(){return this.$1_0;},get_newItems:function(){return this.$1_1;},get_newStartingIndex:function(){return this.$1_2;},get_oldItems:function(){return this.$1_3;},get_oldStartingIndex:function(){return this.$1_4;}}
Microsoft.Live.Core.PropertyChangedEventArgs=function(propertyName){Microsoft.Live.Core.PropertyChangedEventArgs.constructBase(this);this.$1_0=propertyName;}
Microsoft.Live.Core.PropertyChangedEventArgs.prototype={$1_0:null,get_propertyName:function(){return this.$1_0;}}
Type.createNamespace('Microsoft.Live.Messenger.Messaging');Microsoft.Live.Messenger.Messaging.ApplicationMessage=function(){Microsoft.Live.Messenger.Messaging.ApplicationMessage.constructBase(this,[3]);}
Microsoft.Live.Messenger.Messaging.ApplicationMessage.prototype={$3:function($p0,$p1){if(!$p1.supportsApplicationMessageType(this.get_id())){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$2,'message');}this.set_sender($p0);var $0=this.get_sender().get_$7().get_messageFactory().serialize(this);if(String.isNullOrEmpty($0)||$0.length>5000){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$1,'message');}var $1=MC.$create_ApplicationMessageInfo(Microsoft.Live.Messenger._M$7.$1(this.get_id()),$0);var $2=MC.$create_MessageInfo(3,$1);$2.sender=this.get_sender().get_$12();$2.timestamp=this.get_timestamp();return $2;}}
Microsoft.Live.Messenger.Messaging.ApplicationMessageFactory=function(user){if(!user){throw Microsoft.Live.Messenger._M$8.$0('user');}this.$0=[];this.$1=user;}
Microsoft.Live.Messenger.Messaging.ApplicationMessageFactory.prototype={$0:null,$1:null,get_$2:function(){return this.$1;},get_$3:function(){return this.$0;},register:function(id){if(String.isNullOrEmpty(id)){throw Microsoft.Live.Messenger._M$8.$0('id');}if(id.length>64){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$15,'id');}id=Microsoft.Live.Messenger._M$7.$1(id);if(this.isRegistered(id)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$0,'id');}this.$0.add(id);this.$4();},unregister:function(id){if(String.isNullOrEmpty(id)){throw Microsoft.Live.Messenger._M$8.$0('id');}id=Microsoft.Live.Messenger._M$7.$1(id);if(!this.isRegistered(id)){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$3,'id');}this.$0.remove(id);this.$4();},isRegistered:function(id){return this.$0.contains(Microsoft.Live.Messenger._M$7.$1(id));},$4:function(){this.$1.$34(MC.$create_EndpointPresenceInfo(this.$1.get_localEndpoint().get_id().toString(),null,null,null,null,this.$0,null));}}
Type.createNamespace('Microsoft.Live.Messenger.Presence');Microsoft.Live.Messenger.Presence.PresenceExtensionFactory=function(){}
Microsoft.Live.Messenger.Presence.PresenceExtension=function(name){if(String.isNullOrEmpty(name)){throw Microsoft.Live.Messenger._M$8.$0('name');}if(name.length>6){throw Microsoft.Live.Messenger._M$8.$2('Length > 6','name');}var $0=new RegExp('^[A-Za-z1-9]+$');if(!$0.test(name)){throw Microsoft.Live.Messenger._M$8.$2('Should contain only [A..Z][a..z][0..9]','name');}this.$0=name;}
Microsoft.Live.Messenger.Presence.PresenceExtension.prototype={$0:null,get_name:function(){return this.$0;}}
Microsoft.Live.Messenger.Presence.PresenceExtensionCollection=function(endpoint){Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.constructBase(this);this.$10=endpoint;var $0=this.$10.get_imAddress().get_$7().get_presenceFactory();if($0){if(endpoint.get_$5().webProperties){for(var $1=0;$1<endpoint.get_$5().webProperties.length;$1++){this.$8($0.deserialize(endpoint.get_$5().webProperties[$1].key,endpoint.get_$5().webProperties[$1].value));}}}}
Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.$13=function($p0){return $p0;}
Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.prototype={$10:null,add:function(property){if(!property){throw Microsoft.Live.Messenger._M$8.$0('property');}if(!this.$10.get_$4()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$C);}var $0=this.$10.get_imAddress().get_$7().get_presenceFactory();if(!$0){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$21);}var $1=$0.serialize(property);if(!$1){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$22);}if($1.length>500){throw Microsoft.Live.Messenger._M$8.$2(Microsoft.Live.Messenger._M$6.$23,'property');}var $2=[];$2.addRange(this.$10.get_$5().webProperties);var $3=false;for(var $4=0;$4<$2.length;$4++){var $5=$2[$4];if($5.key===property.get_name()){$2[$4]=MC.$create_KeyValuePair(property.get_name(),$1);this.$A($4,property);$3=true;break;}}if(!$3){$2.add(MC.$create_KeyValuePair(property.get_name(),$1));this.$8(property);}this.$10.get_$5().webProperties=Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.$13($2);this.$12(this.$10.get_$5().webProperties);},remove:function(property){if(!property){throw Microsoft.Live.Messenger._M$8.$0('property');}if(!this.$10.get_$4()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$C);}if(!this.$10.get_imAddress().get_$7().get_presenceFactory()){throw Microsoft.Live.Messenger._M$8.$3(Microsoft.Live.Messenger._M$6.$21);}var $0=[];$0.addRange(this.$10.get_$5().webProperties);for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];if($2.key===property.get_name()){$0.removeAt($1);this.$9(this.get_$4()[$1]);break;}}this.$10.get_$5().webProperties=Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.$13($0);this.$12(this.$10.get_$5().webProperties);},clear:function(){var $0=Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.callBase(this,'$F');if(!$0.length){return;}var $1=[];$1.addRange(this.$10.get_$5().webProperties);for(var $2=0;$2<$0.length;$2++){this.$14($1,$0[$2].get_name());}this.$10.get_$5().webProperties=Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.$13($1);this.$12(this.$10.get_$5().webProperties);this.$5();this.$6();},$11:function($p0){var $0=false;var $1=this.$10.get_imAddress().get_$7().get_presenceFactory();var $2=this.$10.get_$5().webProperties;for(var $4=0;$4<$p0.length;$4++){var $5=false;for(var $6=0;$6<$2.length;$6++){if($p0[$4].key===$2[$6].key){$5=true;if($p0[$4].value!==$2[$6].value){this.$A($6,$1.deserialize($p0[$4].key,$p0[$4].value));$0=true;}break;}}if(!$5){$0=true;this.$8($1.deserialize($p0[$4].key,$p0[$4].value));}}var $3=[];for(var $7=0;$7<$2.length;$7++){var $8=false;for(var $9=0;$9<$p0.length;$9++){if($p0[$9].key===$2[$7].key){$8=true;break;}}if(!$8){$3.add(this.get_$4()[$7]);$0=true;}}for(var $A=0;$A<$3.length;$A++){this.$9($3[$A]);}this.$10.get_$5().webProperties=$p0;return $0;},$12:function($p0){this.$10.get_imAddress().get_$7().$34(MC.$create_EndpointPresenceInfo(this.$10.get_$5().id,null,null,null,null,null,$p0));},$14:function($p0,$p1){for(var $0=0;$0<$p0.length;$0++){var $1=$p0[$0];if($1.key===$p1){$p0.removeAt($0);return true;}}return false;},get_item:function(key){if(isNull(key)){throw Microsoft.Live.Messenger._M$8.$0('key');}if(Type.getInstanceType(key)===String){var $0=key;if(String.isNullOrEmpty($0)){throw Microsoft.Live.Messenger._M$8.$1('name',$0);}for(var $1=0;$1<this.get_$4().length;$1++){if((this.get_$4()[$1]).get_name()===$0){return this.get_$4()[$1];}}return null;}else if(Type.getInstanceType(key)===Number){return this.getItem(key);}else{throw Microsoft.Live.Messenger._M$8.$5('key');}}}
Microsoft.Live.Messenger.Capabilities.createClass('Microsoft.Live.Messenger.Capabilities',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.Collection.createClass('Microsoft.Live.Messenger.Collection',null,IEnumerable,Microsoft.Live.Core.INotifyCollectionChanged,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.Contact.createClass('Microsoft.Live.Messenger.Contact',null,Microsoft.Live.Core.INotifyPropertyChanged,Microsoft.Live.Messenger._M$4);Microsoft.Live.Messenger.ContactPresence.createClass('Microsoft.Live.Messenger.ContactPresence',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger._M$E.createClass('Microsoft.Live.Messenger._M$E',null,Microsoft.Live.Messenger._M$2);Microsoft.Live.Messenger.ContactCollection.createClass('Microsoft.Live.Messenger.ContactCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger._M$F.createClass('Microsoft.Live.Messenger._M$F');Microsoft.Live.Messenger.Conversation.createClass('Microsoft.Live.Messenger.Conversation',null,Microsoft.Live.Core.INotifyPropertyChanged,Microsoft.Live.Messenger._M$4,IDisposable);Microsoft.Live.Messenger.ConversationCollection.createClass('Microsoft.Live.Messenger.ConversationCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.Endpoint.createClass('Microsoft.Live.Messenger.Endpoint',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.EndpointCollection.createClass('Microsoft.Live.Messenger.EndpointCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.EndpointPresence.createClass('Microsoft.Live.Messenger.EndpointPresence',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.Group.createClass('Microsoft.Live.Messenger.Group',null,Microsoft.Live.Core.INotifyPropertyChanged,Microsoft.Live.Messenger._M$2);Microsoft.Live.Messenger.GroupCollection.createClass('Microsoft.Live.Messenger.GroupCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger._M$D.createClass('Microsoft.Live.Messenger._M$D');Microsoft.Live.Messenger.IMAddress.createClass('Microsoft.Live.Messenger.IMAddress',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.IMAddressCollection.createClass('Microsoft.Live.Messenger.IMAddressCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.IMAddressPresence.createClass('Microsoft.Live.Messenger.IMAddressPresence',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.MessageHistory.createClass('Microsoft.Live.Messenger.MessageHistory',Microsoft.Live.Messenger.Collection,IEnumerable);Microsoft.Live.Messenger.MessengerUtility.createClass('Microsoft.Live.Messenger.MessengerUtility');Microsoft.Live.Messenger._M$13.createClass('Microsoft.Live.Messenger._M$13');Microsoft.Live.Messenger.PendingContact.createClass('Microsoft.Live.Messenger.PendingContact');Microsoft.Live.Messenger.PendingContactCollection.createClass('Microsoft.Live.Messenger.PendingContactCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.PremiumFeature.createClass('Microsoft.Live.Messenger.PremiumFeature',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.PresenceProperty.createClass('Microsoft.Live.Messenger.PresenceProperty');Microsoft.Live.Messenger.PresencePropertyCollection.createClass('Microsoft.Live.Messenger.PresencePropertyCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.Settings.createClass('Microsoft.Live.Messenger.Settings',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger._M$11.createClass('Microsoft.Live.Messenger._M$11');Microsoft.Live.Messenger.SortedCollection.createClass('Microsoft.Live.Messenger.SortedCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.SortedContactCollection.createClass('Microsoft.Live.Messenger.SortedContactCollection',Microsoft.Live.Messenger.SortedCollection);Microsoft.Live.Messenger._M$12.createClass('Microsoft.Live.Messenger._M$12');Microsoft.Live.Messenger.TypingIMAddressCollection.createClass('Microsoft.Live.Messenger.TypingIMAddressCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger.User.createClass('Microsoft.Live.Messenger.User',null,Microsoft.Live.Core.INotifyPropertyChanged,IDisposable);Microsoft.Live.Messenger._M$10.createClass('Microsoft.Live.Messenger._M$10',null,MC.IMessengerServiceEvents);Microsoft.Live.Core.Identity.createClass('Microsoft.Live.Core.Identity');Microsoft.Live.Messenger._M$15.createClass('Microsoft.Live.Messenger._M$15',Microsoft.Live.Core.Identity);Microsoft.Live.Messenger.AddContactCompletedEventArgs.createClass('Microsoft.Live.Messenger.AddContactCompletedEventArgs',EventArgs);Microsoft.Live.Messenger.AddressChangingEventArgs.createClass('Microsoft.Live.Messenger.AddressChangingEventArgs',EventArgs);Microsoft.Live.Messenger.InviteAddressCompletedEventArgs.createClass('Microsoft.Live.Messenger.InviteAddressCompletedEventArgs',EventArgs);Microsoft.Live.Messenger.MessageReceivedEventArgs.createClass('Microsoft.Live.Messenger.MessageReceivedEventArgs',EventArgs);Microsoft.Live.Messenger.SendMessageFailedEventArgs.createClass('Microsoft.Live.Messenger.SendMessageFailedEventArgs',EventArgs);Microsoft.Live.Messenger.SignedOutRemotelyEventArgs.createClass('Microsoft.Live.Messenger.SignedOutRemotelyEventArgs',EventArgs);Microsoft.Live.Messenger.SignInCompletedEventArgs.createClass('Microsoft.Live.Messenger.SignInCompletedEventArgs',EventArgs);Microsoft.Live.Messenger.SignOutCompletedEventArgs.createClass('Microsoft.Live.Messenger.SignOutCompletedEventArgs',EventArgs);Microsoft.Live.Messenger._M$C.createClass('Microsoft.Live.Messenger._M$C');Microsoft.Live.Messenger._M$8.createClass('Microsoft.Live.Messenger._M$8');Microsoft.Live.Messenger._M$7.createClass('Microsoft.Live.Messenger._M$7');Microsoft.Live.Messenger._M$5.createClass('Microsoft.Live.Messenger._M$5');Microsoft.Live.Messenger._M$A.createClass('Microsoft.Live.Messenger._M$A',null,IDisposable);Microsoft.Live.Messenger._M$9.createClass('Microsoft.Live.Messenger._M$9');Microsoft.Live.Messenger.EmailReceivedEventArgs.createClass('Microsoft.Live.Messenger.EmailReceivedEventArgs',EventArgs);Microsoft.Live.Messenger.Mailbox.createClass('Microsoft.Live.Messenger.Mailbox',null,Microsoft.Live.Core.INotifyPropertyChanged);Microsoft.Live.Messenger.Message.createClass('Microsoft.Live.Messenger.Message');Microsoft.Live.Messenger.NudgeMessage.createClass('Microsoft.Live.Messenger.NudgeMessage',Microsoft.Live.Messenger.Message);Microsoft.Live.Messenger.TextMessage.createClass('Microsoft.Live.Messenger.TextMessage',Microsoft.Live.Messenger.Message);Microsoft.Live.Messenger.TextMessageColor.createClass('Microsoft.Live.Messenger.TextMessageColor');Microsoft.Live.Messenger.TextMessageFormat.createClass('Microsoft.Live.Messenger.TextMessageFormat');Microsoft.Live.Messenger.Services._M$B.createClass('Microsoft.Live.Messenger.Services._M$B');Microsoft.Live.Messenger.UI.SignInControl.createClass('Microsoft.Live.Messenger.UI.SignInControl');Microsoft.Live.Messenger.UI.SignInControlLinks.createClass('Microsoft.Live.Messenger.UI.SignInControlLinks');Microsoft.Live.Messenger.UI.SignInControlStyle.createClass('Microsoft.Live.Messenger.UI.SignInControlStyle');Microsoft.Live.Core.AuthenticationCompletedEventArgs.createClass('Microsoft.Live.Core.AuthenticationCompletedEventArgs',EventArgs);Microsoft.Live.Core.Guid.createClass('Microsoft.Live.Core.Guid');Microsoft.Live.Core.Uri.createClass('Microsoft.Live.Core.Uri');Microsoft.Live.Core.Version.createClass('Microsoft.Live.Core.Version');Microsoft.Live.Core.NotifyCollectionChangedEventArgs.createClass('Microsoft.Live.Core.NotifyCollectionChangedEventArgs',EventArgs);Microsoft.Live.Core.PropertyChangedEventArgs.createClass('Microsoft.Live.Core.PropertyChangedEventArgs',EventArgs);Microsoft.Live.Messenger.Messaging.ApplicationMessage.createClass('Microsoft.Live.Messenger.Messaging.ApplicationMessage',Microsoft.Live.Messenger.Message);Microsoft.Live.Messenger.Messaging.ApplicationMessageFactory.createClass('Microsoft.Live.Messenger.Messaging.ApplicationMessageFactory');Microsoft.Live.Messenger.Presence.PresenceExtensionFactory.createClass('Microsoft.Live.Messenger.Presence.PresenceExtensionFactory');Microsoft.Live.Messenger.Presence.PresenceExtension.createClass('Microsoft.Live.Messenger.Presence.PresenceExtension');Microsoft.Live.Messenger.Presence.PresenceExtensionCollection.createClass('Microsoft.Live.Messenger.Presence.PresenceExtensionCollection',Microsoft.Live.Messenger.Collection);Microsoft.Live.Messenger._M$D.$0=null;Microsoft.Live.Messenger.MessengerUtility.$2=new RegExp('(:\\-?\\)|:\\-?[Ss]|:\\-?\\||:\\-?[\\(<]|:\\-?[Dd>]|<:o\\)|:\\-?[oO]|:\\-?[pP]|:\\-?\\[|:\'\\(|:\\-?@|:\\-?\\$|:\\-#|:\\-\\*|:\\^\\)|;\\-?\\)|8o\\||8\\-\\)|8\\-\\||\\^o\\)|\\*\\-\\)|'+'\\+o\\(|\\|\\-\\)|\\([a-iA-Ik-pK-PrtuR-UwWx-zX-Z]\\)|\\(ap\\)|\\(au\\)|\\(bah\\)|\\(brb\\)|\\(ci\\)|\\(co\\)|\\(h5\\)|\\(ip\\)|\\(li\\)|\\(mo\\)|\\(mp\\)|'+'\\(pi\\)|\\(pl\\)|\\(sn\\)|\\(so\\)|\\(st\\)|\\(tu\\)|\\(um\\)|\\(xx\\)|\\(yn\\)|\\([%~\\\\*068@#&\\^\\{\\}]\\)|\\(nah\\)|\\(\\|\\|\\)|\\(\'\\.\'\\)|'+'\\*red\\+u|\\*naf|\\*sierra|\\*bgca|\\*9mil|\\*hsus|\\*unicef|\\*komen|\\*one|\\*mssoc|\\*care|\\*wwf|\\*acs|\\*oxfam|\\*mod|\\*help|\\*sgw|\\r\\n|\\r|\\n)');Microsoft.Live.Messenger.MessengerUtility.$3=null;var $0={};$0[':)']=$0[':-)']='smile_regular';$0[':s']=$0[':-s']='smile_confused';$0[':|']=$0[':-|']='smile_whatchutalkingabout';$0[':(']=$0[':-(']=$0[':<']=$0[':-<']='smile_sad';$0[':d']=$0[':-d']=$0[':>']=$0[':->']='smile_teeth';$0['<:o)']='smile_party';$0[':o']=$0[':-o']='smile_omg';$0[':p']=$0[':-p']='smile_tongue';$0[':[']=$0[':-[']='bat';$0[':\'(']='smile_cry';$0[':@']=$0[':-@']='smile_angry';$0[':$']=$0[':-$']='smile_embaressed';$0[':-#']='smile_zipit';$0[':-*']='smile_secret';$0[':^)']='smile_sniff';$0[';)']=$0[';-)']='smile_wink';$0['8o|']='smile_baringteeth';$0['8-)']='smile_eyeroll';$0['8-|']='smile_nerd';$0['^o)']='smile_sarcastic';$0['*-)']='smile_thinking';$0['+o(']='smile_sick';$0['|-)']='smile_yawn';$0['(a)']='smile_angel';$0['(ap)']='airplane';$0['(au)']='car';$0['(b)']='beer';$0['(||)']='bowl';$0['(brb)']='smile_speedy';$0['(i)']='lightbulb';$0['(\'.\')']='bunny';$0['(^)']='cake';$0['(p)']='camera';$0['(ci)']='smoking';$0['(@)']='cat';$0['(mp)']='mobile';$0['(o)']=$0['(0)']='clock';$0['(d)']='martini';$0['(c)']='coffee';$0['(co)']='computer';$0['(6)']='smile_devil';$0['(&)']='dog';$0['(e)']='envelope';$0['(x)']='girl_handsacrossamerica';$0['(~)']='film';$0['(yn)']='fingerscrossed';$0['(g)']='present';$0['(nah)']='goat';$0['(%)']='handcuffs';$0['(h5)']='clap';$0['(h)']='smile_shades';$0['(ip)']='island';$0['({)']='hug_dude';$0['(li)']='cloud_lightning';$0['(k)']='kiss';$0['(l)']='heart';$0['(z)']='guy_handsacrossamerica';$0['(m)']='messenger';$0['(mo)']='money';$0['(8)']='music_note';$0['(t)']='phone';$0['(pi)']='pizza';$0['(pl)']='plate';$0['(r)']='rainbow';$0['(})']='hug_girl';$0['(f)']='rose';$0['(bah)']='blacksheep';$0['(s)']='moon';$0['(sn)']='snail';$0['(so)']='soccerball';$0['(*)']='star';$0['(st)']='cloud_rain';$0['(#)']='sun';$0['(n)']='thumbs_down';$0['(y)']='thumbs_up';$0['(tu)']='turtle';$0['(um)']='umbrella';$0['(u)']='heart_broken';$0['(w)']='rose_wilted';$0['(xx)']='xbox';$0['*red+u']=$0['*naf']=$0['*sierra']=$0['*bgca']=$0['*9mil']=$0['*hsus']=$0['*unicef']=$0['*komen']=$0['*one']=$0['*mssoc']=$0['*care']=$0['*wwf']=$0['*acs']=$0['*oxfam']=$0['*mod']=$0['*help']=$0['*sgw']='im';Microsoft.Live.Messenger.MessengerUtility.$3=$0;Microsoft.Live.Messenger._M$5.$0=-1;Microsoft.Live.Messenger.TextMessageFormat.$0=new Microsoft.Live.Messenger.TextMessageFormat(Microsoft.Live.Messenger.TextMessageColor.fromRgb(0,0,0),'Verdana',0,0);Microsoft.Live.Messenger.Services._M$B.$0=null;Microsoft.Live.Core.Guid.empty=new Microsoft.Live.Core.Guid('{00000000-0000-0000-0000-000000000000}');Type.createNamespace('MSCo');MSCo.Environment=function(){};MSCo.Environment.prototype={production:1,integration:3,custom:4}
MSCo.Environment.createEnum('MSCo.Environment',false);MSCo.AbortableCollection=function(){this.$0=[];this.$0=[];}
MSCo.AbortableCollection.prototype={add:function(command){if(!this.$0.contains(command)){this.$0.add(command);}},remove:function(command){if(this.$0.contains(command)){this.$0.remove(command);}},abort:function(){var $enum1=this.$0.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();$0.abort();}this.$0.clear();}}
MSCo.CollectionHelper=function(){}
MSCo.CollectionHelper.arrayLength=function(a){return a.length;}
MSCo.CollectionHelper.queueLength=function(q){return q.length;}
MSCo.CollectionHelper.toArray=function(list){return list;}
MSCo.HttpHelper=function(){}
MSCo.HttpHelper.extractScheme=function(url){var $0=url.indexOf('://');if($0!==-1){return MSCo.StringHelper.substring(url,0,$0)+'://';}return null;}
MSCo.HttpHelper.extractHost=function(url){var $0=MSCo.HttpHelper.extractScheme(url);if(!MSCo.StringHelper.isNull($0)){var $1=$0.length;var $2=url.indexOf('/',$1);if($2>=0){return MSCo.StringHelper.substringSection(url,$1,$2);}else{return MSCo.StringHelper.substringToEnd(url,$1);}}return null;}
MSCo.StringHelper=function(){}
MSCo.StringHelper.toLowerCase=function(s){return s.toLowerCase();}
MSCo.StringHelper.isNull=function(s){return isNullOrUndefined(s);}
MSCo.StringHelper.charAt=function(s,index){return s.charAt(index);}
MSCo.StringHelper.charCodeAt=function(s,index){return s.charCodeAt(index);}
MSCo.StringHelper.substringToEnd=function(s,start){return s.substr(start);}
MSCo.StringHelper.substringSection=function(s,start,end){return s.substring(start,end);}
MSCo.StringHelper.substring=function(s,start,length){return s.substr(start,length);}
MSCo.StringHelper.join=function(s){return MSCo.StringHelper.joinSeparator(' ',s);}
MSCo.StringHelper.joinSeparator=function(separator,s){return s.join(separator);}
MSCo.StringHelper.splitString=function(source,separator){return source.split(separator);}
MSCo.StringHelper.splitChar=function(source,separator){return source.split(separator);}
MSCo.StringHelper.listToArray=function(stringList){return MSCo.CollectionHelper.toArray(stringList);}
MSCo.StringHelper.getByteCount=function(s){if(String.isNullOrEmpty(s)){return 0;}var $0=0;for(var $1=0;$1<s.length;$1++){var $2=MSCo.StringHelper.charCodeAt(s,$1);if($2<=127){$0++;}else if($2<=2047){$0+=2;}else if($2>=55296&&$2<=57343){$0+=2;}else{$0+=3;}}return $0;}
MSCo.StringHelper.fromCharCode=function(value){return String.fromCharCode(value);}
MSCo.Timeout=function(){}
MSCo.Timer=function(callback,state,dueTime,period){this.$0=callback;this.$1=state;this.$2=period;if(dueTime>0){this.$3=window.setTimeout(Delegate.create(this,this.$5),dueTime);}else if(!dueTime){this.$0.invoke(state);}}
MSCo.Timer.prototype={$0:null,$1:null,$2:0,$3:0,$4:0,$5:function(){this.$0.invoke(this.$1);this.$3=0;if(this.$2>0){this.$4=window.setInterval(Delegate.create(this,this.$6),this.$2);}},$6:function(){this.$0.invoke(this.$1);},dispose:function(){if(this.$3){window.clearTimeout(this.$3);this.$3=0;}if(this.$4){window.clearInterval(this.$4);this.$4=0;}}}
MSCo.XmlHelper=function(){}
MSCo.XmlHelper.parseXmlDocument=function(xml){return XMLDocumentParser.parse(xml);}
MSCo.XmlHelper.xmlNodeName=function(node){return node.nodeName;}
MSCo.XmlHelper.xmlNodeValue=function(node){if(!node){return String.Empty;}if(node.nodeType===3){return node.nodeValue;}else{if(!node.childNodes||!MSCo.XmlHelper.childNodesCount(node)){return String.Empty;}var $0=new StringBuilder();for(var $1=0;$1<MSCo.XmlHelper.childNodesCount(node);$1++){var $2=node.childNodes[$1];if($2.nodeType===3){$0.append($2.nodeValue);}}return $0.toString();}}
MSCo.XmlHelper.xmlNodeText=function(node){return node.text;}
MSCo.XmlHelper.xmlNodeListCount=function(nodelist){return nodelist.length;}
MSCo.XmlHelper.childNodesCount=function(node){return node.childNodes.length;}
MSCo.XmlHelper.$0=function($p0){switch($p0){case'<':return'&lt;';case'>':return'&gt;';case'\"':return'&quot;';case'\'':return'&apos;';case'&':return'&amp;';default:return null;}}
MSCo.XmlHelper.xmlEscape=function(str){if(MSCo.StringHelper.isNull(str)){return null;}var $0=['<','>','&','\'','\"'];var $1=null;while(true){var $2=str.indexOfAny($0);if($2<0){if(!$1){return str;}$1.append(str);return $1.toString();}if(!$1){$1=new StringBuilder();}$1.append(str.substr(0,$2));$1.append(MSCo.XmlHelper.$0(MSCo.StringHelper.charAt(str,$2)));str=str.substr($2+1);}}
MSCo.Configuration=function(){}
MSCo.Configuration.get_environment=function(){return MSCo.Configuration.$0;}
MSCo.Configuration.set_environment=function(value){MSCo.Configuration.$0=value;return value;}
MSCo.Configuration.get_domainName=function(){if(String.isNullOrEmpty(MSCo.Configuration.$5)){MSCo.Configuration.$9();}return MSCo.Configuration.$5;}
MSCo.Configuration.set_domainName=function(value){if(String.isNullOrEmpty(value)){throw new Error('Invalid domain name.');}value=value.toLowerCase();if(value.endsWith('.mail.live.com')){value='mail.live.com';}if(value.endsWith('.mail.live-int.com')){value='mail.live-int.com';}MSCo.Configuration.$5=value;return value;}
MSCo.Configuration.get_signInVersion=function(){return MSCo.Configuration.$7;}
MSCo.Configuration.get_clientID=function(){if(String.isNullOrEmpty(MSCo.Configuration.$5)){return'msmsgs';}return MSCo.Configuration.$5;}
MSCo.Configuration.get_clientVersion=function(){return MSCo.Configuration.$6;}
MSCo.Configuration.set_clientVersion=function(value){MSCo.Configuration.$6=value;return value;}
MSCo.Configuration.get_endpointName=function(){return MSCo.Configuration.$5;}
MSCo.Configuration.get_configurationUrl=function(){if(!String.isNullOrEmpty(MSCo.Configuration.$1)){return MSCo.Configuration.$1;}var $0=String.Empty;var $1='/Applications/configuration.ashx';switch(MSCo.Configuration.$0){case 1:$0='http://settings.messenger.live.com'+$1;break;case 3:$0='http://settings.messenger.live-int.com'+$1;break;default:break;}return $0;}
MSCo.Configuration.set_configurationUrl=function(value){MSCo.Configuration.$1=value;return value;}
MSCo.Configuration.setMessengerPath=function(path){MSCo.Configuration.$3=path;}
MSCo.Configuration.get_reauthCompletedPageUrl=function(){return MSCo.Configuration.$3+'ReauthCompleted.html';}
MSCo.Configuration.get_webSignInUrl=function(){if(!String.isNullOrEmpty(MSCo.Configuration.$2)){return MSCo.Configuration.$2;}var $0=String.Empty;var $1='/actions/signin/';switch(MSCo.Configuration.$0){case 1:$0='http://messenger.services.live.com'+$1;break;case 3:$0='http://applications.messenger.live-int.com'+$1;break;default:break;}return $0;}
MSCo.Configuration.set_webSignInUrl=function(value){if(!window.location.hostname.toLowerCase().endsWith('live-int.com')){throw new Error('The web sign-in url is not allowed to change in a production environment.');}MSCo.Configuration.$2=value;return value;}
MSCo.Configuration.setScriptPath=function(path){MSCo.Configuration.$8=path;}
MSCo.Configuration.getServiceScriptUrl=function(service){if(String.isNullOrEmpty(MSCo.Configuration.$8)){MSCo.Configuration.$8=window.__messengerScriptPath;if(String.isNullOrEmpty(MSCo.Configuration.$8)){throw new Error('Invalid script path.');}}switch(service){case 0:case 5:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.Core.js';case 1:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.AddressBook.js';case 2:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.ExpressionProfile.js';case 3:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.Identity.js';case 6:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.Configuration.js';case 4:return MSCo.Configuration.$8+'Microsoft.Live.Messenger.Services.Chat.js';default:throw new Error('Invalid service type.');}}
MSCo.Configuration.get_testDelayLoadCoreService=function(){return(window.__messengerDelayLoadCoreService);}
MSCo.Configuration.$9=function(){var $0=window.location.hostname;if(!String.isNullOrEmpty($0)){MSCo.Configuration.set_domainName($0);}}
MSCo.LogHelper=function(){}
MSCo.LogHelper.get_defaultLogger=function(){if(!MSCo.LogHelper.$0){MSCo.LogHelper.$0=new MSCo.ScriptLogger();}return MSCo.LogHelper.$0;}
MSCo.LogHelper.createLogger=function(){return new MSCo.ScriptLogger();}
MSCo.LogHelper.logInfo=function(location,message){if(MSCo.LogHelper.get_defaultLogger()){MSCo.LogHelper.get_defaultLogger().logInfo(location,message);}}
MSCo.LogHelper.logTrace=function(location,message){if(MSCo.LogHelper.get_defaultLogger()){MSCo.LogHelper.get_defaultLogger().logTrace(location,message);}}
MSCo.LogHelper.logError=function(location,message){if(MSCo.LogHelper.get_defaultLogger()){MSCo.LogHelper.get_defaultLogger().logError(location,message);}}
MSCo.LogHelper.logWarning=function(location,message){if(MSCo.LogHelper.get_defaultLogger()){MSCo.LogHelper.get_defaultLogger().logWarning(location,message);}}
MSCo.LogHelper.logException=function(location,message,ex){if(MSCo.LogHelper.get_defaultLogger()){MSCo.LogHelper.get_defaultLogger().logException(location,message,ex);}}
MSCo.LogHelper.loggerInfo=function(logger,location,message){if(logger){logger.logInfo(location,message);}}
MSCo.LogHelper.loggerTrace=function(logger,location,message){if(logger){logger.logTrace(location,message);}}
MSCo.LogHelper.loggerError=function(logger,location,message){if(logger){logger.logError(location,message);}}
MSCo.LogHelper.loggerWarning=function(logger,location,message){if(logger){logger.logWarning(location,message);}}
MSCo.LogHelper.loggerException=function(logger,location,message,ex){if(logger){logger.logException(location,message,ex);}}
MSCo.ScriptLogger=function(){this.$0=String.Empty;this.$1=String.Empty;}
MSCo.ScriptLogger.prototype={$0:null,$1:null,logInfo:function(location,message){},logWarning:function(location,message){},logError:function(location,message){},logException:function(location,message,ex){if(ex){}},logTrace:function(location,message){},get_module:function(){return this.$0;},set_module:function(value){this.$0=value;return value;},get_context:function(){return this.$1;},set_context:function(value){this.$1=value;return value;}}
MSCo.HttpMethod=function(){};MSCo.HttpMethod.prototype={Get:0,Post:1,Put:2,Delete:3}
MSCo.HttpMethod.createEnum('MSCo.HttpMethod',false);MSCo.HttpStatusCode=function(){};MSCo.HttpStatusCode.prototype={none:0,OK:200,created:201,noContent:204,movedPermanently:301,found:302,notModified:304,badRequest:400,forbidden:403,notFound:404,requestTimeout:408,conflict:409,serverError:500}
MSCo.HttpStatusCode.createEnum('MSCo.HttpStatusCode',false);MSCo.HttpRequest=function(method,url,postData,headers,onResponse){this.$1=method;this.$2=url;this.$4=headers;this.$3=((String.isNullOrEmpty(postData))?String.Empty:postData);this.$5=onResponse;this.$6=MSCo.HttpHelper.extractHost(this.$2);if(String.isNullOrEmpty(this.$6)){this.$6=MSCo._N$4.get_$D();}if(this.$6!==MSCo._N$4.get_$D()){this.$7=true;}this.$A=MSCo._N$4.$E(this.$6);}
MSCo.HttpRequest.$15=function($p0){switch($p0){case 0:return'GET';case 1:return'POST';case 2:return'PUT';case 3:return'DELETE';default:return null;}}
MSCo.HttpRequest.prototype={$1:0,$2:null,$3:null,$4:null,$5:null,$6:null,$7:false,$8:null,$9:null,$A:null,$B:null,$C:false,get_$D:function(){return this.$1;},execute:function(){if(!this.$C){this.$C=true;this.$A.$11(this);}},abort:function(){if(this.$C&&this.$8){this.$8.onreadystatechange=Delegate.Null;this.$8.abort();this.$14();this.$A.$12(this);this.$8=null;}},$E:function(){this.$13();if(this.$7){var $0={};$0['type']=((this.$1===1)?'XMLPost':'XMLGet');$0['verb']=MSCo.HttpRequest.$15(this.$1);$0['timeout']=null;$0['url']=this.$2;$0['headers']=this.$4;$0['postString']=this.$3;this.$8=this.$A.$13($0,Delegate.create(this,this.$10));}else{this.$8=new XMLHttpRequest();this.$8.open(MSCo.HttpRequest.$15(this.$1),this.$2,true);this.$8.onreadystatechange=Delegate.create(this,this.$F);if(this.$4&&Object.getKeyCount(this.$4)>0){var $dict1=this.$4;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};this.$8.setRequestHeader($1.key,$1.value);}}try{this.$8.send(this.$3);}catch($2){this.$10(this.$8);}}},$F:function(){if(4===this.$8.readyState){this.$10(this.$8);}},$10:function($p0){this.$14();var $0=new MSCo._N$5($p0);if(this.$9){if($0.get_status()===304){$0=new MSCo._N$5(this.$9);$p0=this.$9;}this.$9=null;}else{if((!this.$1)&&String.isNullOrEmpty($0.getResponseHeader('Date'))){this.$9=$p0;this.$4['If-Modified-Since']=$0.getResponseHeader('Last-Modified')||new Date(0).toUTCString();this.$E();return;}}this.$C=false;this.$8=$p0;this.$A.$12(this);this.$5.invoke($0);this.$8=null;},$11:function($p0){this.$8.onreadystatechange=Delegate.Null;this.$8.abort();this.$14();this.$A.$12(this);this.$5.invoke(new MSCo._N$5(this.$8));this.$8=null;},$12:function(){var $0=new XMLHttpRequest();var $1=new MSCo._N$5($0);this.$5.invoke($1);},$13:function(){this.$14();this.$B=new MSCo.Timer(Delegate.create(this,this.$11),null,30000,MSCo.Timeout.infinite);},$14:function(){if(this.$B){this.$B.dispose();this.$B=null;}}}
MSCo._N$4=function(domain){this.$5=domain;this.$6=[];if(this.$5!==MSCo._N$4.get_$D()){MSCo._N$4.$C();var $0=domain.endsWith(document.domain);var $1=domain.indexOf(':');if($1>0){if(domain.substring(0,$1).endsWith(document.domain)){$0=true;}}if($0){this.$7=true;this.$8=document.createElement('iframe');this.$8.style.display='none';this.$8.src=String.format('{0}//{1}/xmlProxy.htm?vn={2}&domain={3}',window.location.protocol,this.$5,'6.060830.1',document.domain);this.$B=new MSCo.Timer(Delegate.create(this,this.$10),null,30000,MSCo.Timeout.infinite);document.body.appendChild(this.$8);}}MSCo._N$4.$2[domain]=this;}
MSCo._N$4.$C=function(){if(MSCo._N$4.$3){return;}var $0=MSCo._N$4.$4;var $1=$0.indexOf(':');if($1>0){$0=$0.substring(0,$1);}if(!$0.endsWith('.com')){throw Error.create(String.format('Invalid domain: {0}',$0),null);}var $2=$0.indexOf('.');if($2>0){try{document.domain=$0;while($2>=0){$0=$0.substr($2+1);if($0!=='com'){document.domain=$0;$2=$0.indexOf('.');}else{$2=-1;}}}catch($3){}}MSCo._N$4.$3=true;}
MSCo._N$4.get_$D=function(){return MSCo._N$4.$4;}
MSCo._N$4.$E=function($p0){var $0=MSCo._N$4.$2[$p0];if(!$0){$0=new MSCo._N$4($p0);}return $0;}
MSCo._N$4.prototype={$5:null,$6:null,$7:false,$8:null,$9:0,$A:null,$B:null,$F:function($p0){this.$A=$p0;this.$15();this.$14();},$10:function($p0){if(!this.$A){while(this.$6.length>0){var $0=this.$6.dequeue();$0.$12();}}this.$15();},$11:function($p0){this.$6.enqueue($p0);this.$14();},$12:function($p0){this.$9--;this.$14();},$13:function($p0,$p1){return this.$A.fetchXML($p0,MSCo._N$3,this,$p1);},$14:function(){if((this.$6.length>0)&&(this.$9<4)&&(!this.$7||(this.$7&&(this.$A)))){this.$9++;var $0=this.$6.dequeue();switch($0.get_$D()){case 0:case 1:case 2:case 3:$0.$E();break;default:this.$9--;this.$14();break;}}},$15:function(){if(this.$B){this.$B.dispose();this.$B=null;}}}
MSCo.HttpResponse=function(){}
MSCo.HttpResponse.prototype={get_responseData:function(){return null;},get_responseXml:function(){return MSCo.XmlHelper.parseXmlDocument(this.get_responseText());}}
MSCo._N$3=function(){}
MSCo._N$3.$0=function($p0){var $0=$p0.location.hostname;var $1=MSCo._N$4.$E($0);$1.$F($p0);}
MSCo._N$5=function(request){MSCo._N$5.constructBase(this);this.$0=request;}
MSCo._N$5.prototype={$0:null,$1:null,get_responseText:function(){try{if(!this.$1){this.$1=this.$0.responseText;}return this.$1;}catch($0){return String.Empty;}},get_hasContent:function(){return!String.isNullOrEmpty(this.get_responseText());},get_status:function(){try{if(!this.$0.readyState){return 408;}else if(isUndefined(this.$0.status)){return 0;}else{switch(this.$0.status){case 1223:return 204;default:return this.$0.status;}}}catch($0){return 0;}},get_statusText:function(){try{if(!this.$0.readyState){return'Request Timeout';}else{switch(this.$0.status){case 1223:return'No Content';default:return this.$0.statusText;}}}catch($0){return String.Empty;}},getResponseHeader:function($p0){try{return this.$0.getResponseHeader($p0);}catch($0){return null;}}}
Type.createNamespace('Web');Web._N$2=function(){}
MSCo.AbortableCollection.createClass('MSCo.AbortableCollection');MSCo.CollectionHelper.createClass('MSCo.CollectionHelper');MSCo.HttpHelper.createClass('MSCo.HttpHelper');MSCo.StringHelper.createClass('MSCo.StringHelper');MSCo.Timeout.createClass('MSCo.Timeout');MSCo.Timer.createClass('MSCo.Timer',null,IDisposable);MSCo.XmlHelper.createClass('MSCo.XmlHelper');MSCo.Configuration.createClass('MSCo.Configuration');MSCo.LogHelper.createClass('MSCo.LogHelper');MSCo.ScriptLogger.createClass('MSCo.ScriptLogger',null,MC.ILogger);MSCo.HttpRequest.createClass('MSCo.HttpRequest',null,MC.IAbortable);MSCo._N$4.createClass('MSCo._N$4');MSCo.HttpResponse.createClass('MSCo.HttpResponse');MSCo._N$3.createClass('MSCo._N$3');MSCo._N$5.createClass('MSCo._N$5',MSCo.HttpResponse);Web._N$2.createClass('Web._N$2');MSCo.Timeout.infinite=-1;MSCo.Configuration.$0=1;MSCo.Configuration.$1=String.Empty;MSCo.Configuration.$2=String.Empty;MSCo.Configuration.$3=String.Empty;MSCo.Configuration.$5=String.Empty;MSCo.Configuration.$6='2.0';MSCo.Configuration.$7='1';MSCo.Configuration.$8=null;MSCo.LogHelper.$0=null;MSCo._N$4.$2={};MSCo._N$4.$3=false;MSCo._N$4.$4=window.location.hostname.toLowerCase();MSCo._N$3.Type={};var $0=MSCo._N$3.Type;$0.XMLPost='XMLPost';Function.emptyFunction=Delegate.Null;MSCo._N$3.oninvoke={};var $1=MSCo._N$3.oninvoke;$1.fire=Delegate.Null;MSCo._N$3.onhttperror={};var $2=MSCo._N$3.onhttperror;$2.fire=Delegate.Null;var $3=window.Web;$3.Network=MSCo._N$3;MSCo._N$3.registerProxy=Delegate.create(null,MSCo._N$3.$0);$3.Browser={};var $4=$3.Browser;$4.isIE=Delegate.Null;Type.createNamespace('MSL');MSL._E$3=function(){};MSL._E$3.createInterface('MSL._E$3');MSL._E$0=function(){};MSL._E$0.prototype={$0:1,$1:2,$2:3,$3:4}
MSL._E$0.createEnum('MSL._E$0',false);MSL._E$4=function(){this.$2=new Array(7);for(var $0=0;$0<this.$2.length;$0++){this.$2[$0]=1;}if(!MSCo.Configuration.get_testDelayLoadCoreService()){this.loadService(0);}}
MSL._E$4.get_$1=function(){return MSL._E$4.$0;}
MSL._E$4.prototype={$2:null,add_$3:function($p0){this.$4=Delegate.combine(this.$4,$p0);},remove_$3:function($p0){this.$4=Delegate.remove(this.$4,$p0);},$4:null,loadService:function($p0){if($p0===5){$p0=0;}if(this.$2[$p0]===1){this.$2[$p0]=2;new MSL._E$7($p0,MSCo.Configuration.getServiceScriptUrl($p0),Delegate.create(this,this.$5)).$4();}},isServiceAvailable:function($p0){if($p0===5){$p0=0;}return this.$2[$p0]===3;},$5:function($p0,$p1){if(!$p0){this.$2[$p1]=3;}else{this.$2[$p1]=1;}if(this.$4){this.$4.invoke($p0,$p1);}}}
MSL.ServiceFactory=function(identity){this.$1=identity;this.$0=new Array(7);MSL._E$4.get_$1().add_$3(Delegate.create(this,this.$3));}
MSL.ServiceFactory.prototype={$0:null,$1:null,$2:null,$3:function($p0,$p1){var $0=this.$0[$p1];if($0){$0.$C(!$p0);}if(!$p1){var $1=this.$0[5];if($1){$1.$C(!$p0);}}},$4:function($p0){new MSL._E$6(this.$1.endpointId,($p0[0]).status,$p0[2],Delegate.create(this,this.$5)).$5();},$5:function($p0,$p1,$p2){if(!$p0){var $0=this.$0[0];var $1=$0;$1.resumeSignedInSession($p1.clientConfiguration,$p1.messengerSession,this.$6($p1.messengerSession.pendingEvents));this.$2.onConfigurationChanged($p1.clientConfiguration);this.$2.onSignedIn($p0,$p1.groups,$p1.settings,$p2);if($p1.messengerSession.pendingEvents){this.$7($p1.messengerSession.pendingEvents);}}else{this.$2.onSignedIn($p0,null,null,$p2);}},$6:function($p0){var $0=[];if($p0){var $enum1=$p0.getEnumerator();while($enum1.moveNext()){var $1=$enum1.get_current();if($1[0]==='OnSubscribeNotificationReceived'){$0.add($1);}}}return $0;},$7:function($p0){var $enum1=$p0.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();var $1=$0[1];switch($0[0]){case'OnMailNotification':this.$2.onMailNotification($1[0]);break;case'OnPresenceChanged':this.$2.onPresenceChanged($1[0],$1[1],$1[2]);break;case'OnSettingsChanged':this.$2.onSettingsChanged($1[0]);break;case'OnUserPresenceLost':this.$2.onUserPresenceLost();break;}}},createMessengerService:function(serviceEvents){this.$2=serviceEvents;var $0=new MSL._E$5(0,[this.$1,this,this.$2]);$0.$7('signIn',Delegate.create(this,this.$4));if(MSCo.Configuration.get_testDelayLoadCoreService()){$0.$6(['resumeSignedInSession']);}this.$0[0]=$0;return $0;},createConnectionService:function(identity,events){var $0=new MSL._E$5(5,[identity,events]);this.$0[5]=$0;($0).set_logger(MSCo.LogHelper.createLogger());return $0;},createAddressBook:function(identity){var $0=new MSL._E$5(1,[identity]);$0.$6(['updateConfiguration','add_changed','add_authenticationFailed']);this.$0[1]=$0;($0).set_logger(MSCo.LogHelper.createLogger());return $0;},createExpressionProfile:function(identity){var $0=new MSL._E$5(2,[identity]);$0.$6(['updateConfiguration','add_authenticationFailed']);this.$0[2]=$0;($0).set_logger(MSCo.LogHelper.createLogger());return $0;},createIdentityService:function(){var $0=new MSL._E$5(3,[]);$0.$6(['updateConfiguration']);this.$0[3]=$0;return $0;},createConversationService:function(identity,service,serviceEvents){var $0=new MSL._E$5(4,[identity,service,serviceEvents]);$0.$6(['close']);this.$0[4]=$0;return $0;},createConfigurationService:function(){var $0=new MSL._E$5(6,[MSCo.Configuration.get_configurationUrl()]);$0.$6(['add_changed']);this.$0[6]=$0;return $0;}}
MSL._E$5=function(serviceType,args){this.$0=serviceType;this.$4=[];this.$1=args;var $0=MSL._E$5.$D(this.$0);var $1=eval($0+'.prototype');var $2=this;var $dict1=$1;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};if(String.equals($3.key,'constructor',false)){continue;}if(Object.keyExists($2,$3.key)){throw new Error(String.format('The service method \'{0}\' in class \'{1}\' conflicts with a member in the ServiceProxy class',$3.key,$0));}$2[$3.key]=this.$A($3.key);}if(MSL._E$4.get_$1().isServiceAvailable(serviceType)){this.$C(true);}}
MSL._E$5.$D=function($p0){switch($p0){case 0:return'MSL.MessengerServiceProxyDef';case 5:return'MSL.ConnectionServiceProxyDef';case 1:return'MSL.AddressBookProxyDef';case 2:return'MSL.ExpressionProfileProxyDef';case 3:return'MSL.IdentityServiceProxyDef';case 4:return'MSL.ConversationServiceProxyDef';case 6:return'MSL.ConfigurationServiceProxyDef';default:throw new Error('Invalid service type!');}}
MSL._E$5.$E=function($p0){switch($p0){case 0:return'MSCr.MessengerService';case 5:return'MSP.ConnectionService';case 1:return'MSA.AddressBook';case 2:return'MSE.ExpressionProfile';case 3:return'MSI.IdentityService';case 4:return'MSCh.ConversationService';case 6:return'MSCf.ConfigurationService';default:throw new Error('Invalid service type!');}}
MSL._E$5.$F=function($p0,$p1,$p2){switch($p2.length){case 0:$p0[$p1]();break;case 1:$p0[$p1]($p2[0]);break;case 2:$p0[$p1]($p2[0],$p2[1]);break;case 3:$p0[$p1]($p2[0],$p2[1],$p2[2]);break;case 4:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3]);break;case 5:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4]);break;case 6:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4],$p2[5]);break;case 7:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4],$p2[5],$p2[6]);break;case 8:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4],$p2[5],$p2[6],$p2[7]);break;case 9:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4],$p2[5],$p2[6],$p2[7],$p2[8]);break;case 10:$p0[$p1]($p2[0],$p2[1],$p2[2],$p2[3],$p2[4],$p2[5],$p2[6],$p2[7],$p2[8],$p2[9]);break;default:throw new Error('Number of arguments exceeds maximum for InvokeMethod.');}}
MSL._E$5.$10=function($p0,$p1){switch($p1.length){case 0:return new $p0();case 1:return new $p0($p1[0]);case 2:return new $p0($p1[0],$p1[1]);case 3:return new $p0($p1[0],$p1[1],$p1[2]);case 4:return new $p0($p1[0],$p1[1],$p1[2],$p1[3]);case 5:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4]);case 6:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4],$p1[5]);case 7:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4],$p1[5],$p1[6]);case 8:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4],$p1[5],$p1[6],$p1[7]);case 9:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4],$p1[5],$p1[6],$p1[7],$p1[8]);case 10:return new $p0($p1[0],$p1[1],$p1[2],$p1[3],$p1[4],$p1[5],$p1[6],$p1[7],$p1[8],$p1[9]);default:throw new Error('Number of arguments exceeds maximum for CreateInstance.');}}
MSL._E$5.prototype={$0:0,$1:null,$2:null,$3:null,$4:null,$5:null,$6:function($p0){this.$2=$p0;},$7:function($p0,$p1){if(!this.$3){this.$3={};}this.$3[$p0]=$p1;},$8:function($p0){if(Object.keyExists(this.$3,$p0)){delete this.$3[$p0];}},$9:function($p0){if(this.$3&&Object.keyExists(this.$3,$p0)){return this.$3[$p0];}else{return null;}},$A:function($p0){return Delegate.create(this,function(){var $1_0=new Array(arguments.length);for(var $1_2=0;$1_2<$1_0.length;$1_2++){$1_0[$1_2]=arguments[$1_2];}var $1_1=this.$9($p0);if($1_1){$1_1.invoke($1_0);return;}if(!this.$5){this.$4.add([$p0,$1_0]);if(!this.$B($p0)){MSL._E$4.get_$1().loadService(this.$0);}}else{MSL._E$5.$F(this.$5,$p0,$1_0);}});},$B:function($p0){if(!this.$2){return false;}var $enum1=this.$2.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();if($0===$p0){return true;}}return false;},$C:function($p0){if($p0){var $0=Type.getType(MSL._E$5.$E(this.$0));this.$5=MSL._E$5.$10($0,this.$1);for(var $1=0;$1<this.$4.length;$1++){var $2=this.$4[$1];MSL._E$5.$F(this.$5,$2[0],$2[1]);}}}}
MSL._E$7=function(service,script,callback){this.$1=service;this.$2=script;this.$3=callback;}
MSL._E$7.$6=function($p0){var $0=null;switch($p0){case 0:$0='MSCr.MessengerService';break;case 5:$0='MSP.ConnectionService';break;case 1:$0='MSA.AddressBook';break;case 2:$0='MSE.ExpressionProfile';break;case 3:$0='MSI.IdentityService';break;case 4:$0='MSCh.ConversationService';break;case 6:$0='MSCf.ConfigurationService';break;default:break;}return MSL._E$7.$7($0);}
MSL._E$7.$7=function($p0){try{return eval($p0+' != undefined');}catch($0){return false;}}
MSL._E$7.prototype={$1:0,$2:null,$3:null,$4:function(){new ScriptLoader([this.$2]).load(false,30000,Delegate.create(this,this.$5),Delegate.create(this,this.$5));},$5:function($p0,$p1){if(this.$3){this.$3.invoke(0,this.$1);}}}
MSL._E$6=function(endpointId,presenceStatus,userState,callback){this.$2=MC.$create_SignInRequest(MSCo.Configuration.get_signInVersion(),endpointId,presenceStatus,MSCo.Configuration.get_domainName(),'0',MC.$create_AuthenticationInfo(1,String.Empty),MSCo.Configuration.get_clientVersion());this.$4=userState;this.$0=callback;}
MSL._E$6.$B=function($p0){var $0={};if($p0.groups){for(var $1=0;$1<$p0.groups.length;$1++){var $2=$p0.groups[$1];for(var $3=0;$3<$2.contacts.length;$3++){var $4=$2.contacts[$3];for(var $5=0;$5<$4.addresses.length;$5++){var $6=$4.addresses[$5];var $7=$6.address+':'+$6.type;if(Object.keyExists($0,$7)){var $8=$4.addresses;($8).remove($6);$5--;}else{$0[$7]=$0;}}if(!$4.addresses.length){var $9=$2.contacts;($9).remove($4);$3--;}}}}}
MSL._E$6.prototype={$0:null,$1:null,$2:null,$3:null,$4:null,$5:function(){this.$6();},$6:function(){var $0=MC.JSON.serialize(this.$2);var $1={};$1['Content-Type']='application/json; charset=utf-8';var $2=new MSCo.HttpRequest(1,MSCo.Configuration.get_webSignInUrl(),$0,$1,Delegate.create(this,this.$7));$2.execute();},$7:function($p0){if($p0.get_status()===200){try{this.$3=MC.JSON.deserializeTrusted($p0.get_responseText());MSL._E$6.$B(this.$3);}catch($0){}if(this.$3){this.$8();return;}}this.$0.invoke(1,null,this.$4);},$8:function(){this.$1=document.createElement('iframe');this.$1.style.visibility='hidden';this.$1.attachEvent('onload',Delegate.create(this,this.$9));this.$1.src=this.$3.clientConfiguration.identity.storageAuthUrl;document.body.appendChild(this.$1);},$9:function(){if(this.$1){var $0=this.$1;this.$1.detachEvent('onload',Delegate.create(this,this.$9));this.$1=null;document.body.removeChild($0);}this.$A();},$A:function(){this.$0.invoke(0,this.$3,this.$4);}}
MSL.AddressBookProxyDef=function(){}
MSL.AddressBookProxyDef.prototype={synchronize:function(){},retrieveUnknownContact:function(){},createContact:function(){},retrieveContact:function(){},updateContact:function(){},updateContactNickname:function(){},deleteContact:function(){},createIMAddress:function(){},retrieveIMAddress:function(){},updateIMAddress:function(){},deleteIMAddress:function(){},createTag:function(){},retrieveTag:function(){},updateTag:function(){},deleteTag:function(){},createContactID:function(){},deleteContactID:function(){},updateConfiguration:function(){},updateSettings:function(){},add_changed:function(value){},remove_changed:function(value){},add_authenticationFailed:function(value){},remove_authenticationFailed:function(value){},get_logger:function(){return null;},set_logger:function(value){return value;}}
MSL.ConfigurationServiceProxyDef=function(){}
MSL.ConfigurationServiceProxyDef.prototype={get_current:function(){return null;},add_changed:function(value){},remove_changed:function(value){},loadConfiguration:function(){}}
MSL.ConnectionServiceProxyDef=function(){}
MSL.ConnectionServiceProxyDef.prototype={authenticate:function(){},resumeSession:function(){},notifyAddressBookChanged:function(){},signIn:function(){},signOut:function(){},publishSettings:function(){},publishPresence:function(){},sendNotification:function(){},updateAddresses:function(){},sendPage:function(){},requestMixerSession:function(){},updateConfiguration:function(){},get_logger:function(){return null;},set_logger:function(value){return value;}}
MSL.ConversationServiceProxyDef=function(){}
MSL.ConversationServiceProxyDef.prototype={conversationCreate:function(){},conversationSendMessage:function(){},conversationInviteAddress:function(){},conversationClose:function(){},conversationExpose:function(){},conversationUpdateId:function(){},sendPage:function(){},requestMixerSession:function(){},onPolicyReceived:function(){},onPageReceived:function(){},onMixerIncomingRequest:function(){},close:function(){}}
MSL.ExpressionProfileProxyDef=function(){}
MSL.ExpressionProfileProxyDef.prototype={synchronize:function(){},update:function(){},updateConfiguration:function(){},add_authenticationFailed:function(value){},remove_authenticationFailed:function(value){},get_logger:function(){return null;},set_logger:function(value){return value;}}
MSL.IdentityServiceProxyDef=function(){}
MSL.IdentityServiceProxyDef.prototype={reauthenticate:function(){},updateConfiguration:function(){}}
MSL.MessengerServiceProxyDef=function(){}
MSL.MessengerServiceProxyDef.prototype={addAddress:function(){},updateContact:function(){},updateContactNickname:function(){},addAddressToContact:function(){},removeAddressFromContact:function(){},addGroup:function(){},renameGroup:function(){},removeGroup:function(){},addContactToGroup:function(){},removeContactFromGroup:function(){},signIn:function(){},signOut:function(){},updateSettings:function(){},updatePresence:function(){},refreshPresence:function(){},sendPage:function(){},conversationCreate:function(){},conversationSendMessage:function(){},conversationInviteAddress:function(){},conversationClose:function(){},conversationExpose:function(){},conversationUpdateId:function(){},requestMixerSession:function(){},resumeSignedInSession:function(){}}
MSL._E$4.createClass('MSL._E$4',null,MSL._E$3);MSL.ServiceFactory.createClass('MSL.ServiceFactory',null,MC.IServiceFactory);MSL._E$5.createClass('MSL._E$5');MSL._E$7.createClass('MSL._E$7');MSL._E$6.createClass('MSL._E$6');MSL.AddressBookProxyDef.createClass('MSL.AddressBookProxyDef');MSL.ConfigurationServiceProxyDef.createClass('MSL.ConfigurationServiceProxyDef');MSL.ConnectionServiceProxyDef.createClass('MSL.ConnectionServiceProxyDef');MSL.ConversationServiceProxyDef.createClass('MSL.ConversationServiceProxyDef');MSL.ExpressionProfileProxyDef.createClass('MSL.ExpressionProfileProxyDef');MSL.IdentityServiceProxyDef.createClass('MSL.IdentityServiceProxyDef');MSL.MessengerServiceProxyDef.createClass('MSL.MessengerServiceProxyDef');MSL._E$4.$0=new MSL._E$4();